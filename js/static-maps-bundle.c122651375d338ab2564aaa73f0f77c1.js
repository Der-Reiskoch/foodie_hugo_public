function getMapIcon(a,b){var c=L.divIcon({className:"map-marker-custom-div-icon",html:`<div style="background-color: ${a}" class="map-marker-pin"></div><i class="material-icons">${b}</i>`,iconSize:[30,42],iconAnchor:[15,42],popupAnchor:[0,-30]});return c}function disableZoomAndDragging(a){a.touchZoom.disable(),a.doubleClickZoom.disable(),a.scrollWheelZoom.disable(),a.boxZoom.disable(),a.keyboard.disable(),a.dragging.disable()}!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(b.L={})}(this,function(a){"use strict";var aJ,Q,X,cm,bV,v,A,y,B,C,G,E,H,$,ay,bD,cE,ax,bk,a$,bm,cI,ad,bv,cx,aU,cw,bF,aS,ai,aQ,bI,au,ar,da,ck,bP,bR,bW,aI,bZ,bY,b_,bT,bS,cg,z,al,df,dg,T,I,J,ci,dj,V,an,co,bc,aN,ct,aP,cz,aR,bC,aT,bA,bb,cA,Y,aY,by,ag,_,br,bn,bl,bt,be,bf,bg,bh,bi,bj,cK,dv,bQ,bo,bp,bq,aj,cH,aZ,aW,ae,bB,ah,aD,aO,aL,bG,bH,at,cM,cZ,cv,e,cy,cW,cp,cB,bx,aa,cL,cO,bz,bu,cR,cS,cF,cU,ap,am,af,aB,cu,aX,R,aM,bN,M,dm,aE,cD,cG,O,ac,aC,dq,aG,aq;function i(c){for(var a,d,b=1,e=arguments.length;b<e;b++)for(a in d=arguments[b])c[a]=d[a];return c}ay=Object.create||function(a){return di.prototype=a,new di};function di(){}function k(a,d){var b,c=Array.prototype.slice;return a.bind?a.bind.apply(a,c.call(arguments,1)):(b=c.call(arguments,2),function(){return a.apply(d,b.length?b.concat(c.call(arguments)):arguments)})}bD=0;function h(a){return a._leaflet_id=a._leaflet_id||++bD,a._leaflet_id}function dp(g,e,d){var a,b,f=function(){b=!1,a&&(c.apply(d,a),a=!1)},c=function(){b?a=arguments:(g.apply(d,arguments),setTimeout(f,e),b=!0)};return c}function aF(a,d,f){var e=d[1],b=d[0],c=e-b;return a===e&&f?a:((a-b)%c+c)%c+b}function r(){return!1}function N(c,a){var b=Math.pow(10,void 0===a?6:a);return Math.round(c*b)/b}function cJ(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function aA(a){return cJ(a).split(/\s+/)}function m(a,b){for(var c in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?ay(a.options):{}),b)a.options[c]=b[c];return a.options}function ds(b,c,e){var a,d=[];for(a in b)d.push(encodeURIComponent(e?a.toUpperCase():a)+"="+encodeURIComponent(b[a]));return(c&&-1!==c.indexOf("?")?"&":"?")+d.join("&")}cE=/\{ *([\w_-]+) *\}/g;function dr(b,a){return b.replace(cE,function(c,d){var b=a[d];if(void 0===b)throw new Error("No value provided for variable "+c);return"function"==typeof b&&(b=b(a)),b})}E=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function dn(b,c){for(var a=0;a<b.length;a++)if(b[a]===c)return a;return-1}ax="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function cn(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}bk=0;function dc(c){var a=+new Date,b=Math.max(0,16-(a-bk));return bk=a+b,window.setTimeout(c,b)}a$=window.requestAnimationFrame||cn("RequestAnimationFrame")||dc,bm=window.cancelAnimationFrame||cn("CancelAnimationFrame")||cn("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function u(a,b,c){if(!c||a$!==dc)return a$.call(window,k(a,b));a.call(b)}function x(a){a&&bm.call(window,a)}cI={extend:i,create:ay,bind:k,lastId:bD,stamp:h,throttle:dp,wrapNum:aF,falseFn:r,formatNum:N,trim:cJ,splitWords:aA,setOptions:m,getParamString:ds,template:dr,isArray:E,indexOf:dn,emptyImageUrl:ax,requestFn:a$,cancelFn:bm,requestAnimFrame:u,cancelAnimFrame:x};function S(){}S.extend=function(a){function d(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var c,e=d.__super__=this.prototype,b=ay(e);for(c in(b.constructor=d).prototype=b,this)Object.prototype.hasOwnProperty.call(this,c)&&"prototype"!==c&&"__super__"!==c&&(d[c]=this[c]);return a.statics&&(i(d,a.statics),delete a.statics),a.includes&&(function(a){if("undefined"==typeof L||!L||!L.Mixin)return;a=E(a)?a:[a];for(var b=0;b<a.length;b++)a[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(a.includes),i.apply(null,[b].concat(a.includes)),delete a.includes),b.options&&(a.options=i(ay(b.options),a.options)),i(b,a),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,c=b._initHooks.length;a<c;a++)b._initHooks[a].call(this)}},d},S.include=function(a){return i(this.prototype,a),this},S.mergeOptions=function(a){return i(this.prototype.options,a),this},S.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1),c="function"==typeof a?a:function(){this[a].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this},v={on:function(a,d,e){if("object"==typeof a)for(b in a)this._on(b,a[b],d);else for(var b,c=0,f=(a=aA(a)).length;c<f;c++)this._on(a[c],d,e);return this},off:function(a,d,e){if(a)if("object"==typeof a)for(b in a)this._off(b,a[b],d);else for(var b,c=0,f=(a=aA(a)).length;c<f;c++)this._off(a[c],d,e);else delete this._events;return this},_on:function(f,e,c){this._events=this._events||{},a=this._events[f],a||(a=[],this._events[f]=a),c===this&&(c=void 0);for(var a,g={fn:e,ctx:c},d=a,b=0,h=d.length;b<h;b++)if(d[b].fn===e&&d[b].ctx===c)return;d.push(g)},_off:function(d,g,e){if(this._events&&(a=this._events[d]))if(g){if(e===this&&(e=void 0),a)for(b=0,c=a.length;b<c;b++){var a,b,c,f=a[b];if(f.ctx===e&&f.fn===g)return f.fn=r,this._firingCount&&(this._events[d]=a=a.slice()),void a.splice(b,1)}}else{for(b=0,c=a.length;b<c;b++)a[b].fn=r;delete this._events[d]}},fire:function(b,c,g){if(!this.listens(b,g))return this;if(d=i({},c,{type:b,target:this,sourceTarget:c&&c.sourceTarget||this}),this._events&&(a=this._events[b],a)){this._firingCount=this._firingCount+1||1;for(var a,d,e,f=0,h=a.length;f<h;f++)e=a[f],e.fn.call(e.ctx||this,d);this._firingCount--}return g&&this._propagateEvent(d),this},listens:function(a,b){var c,d=this._events&&this._events[a];if(d&&d.length)return!0;if(b)for(c in this._eventParents)if(this._eventParents[c].listens(a,b))return!0;return!1},once:function(a,c,b){if("object"==typeof a){for(d in a)this.once(d,a[d],c);return this}var d,e=k(function(){this.off(a,c,b).off(a,e,b)},this);return this.on(a,c,b).on(a,e,b)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[h(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[h(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}},v.addEventListener=v.on,v.removeEventListener=v.clearAllEventListeners=v.off,v.addOneTimeEventListener=v.once,v.fireEvent=v.fire,v.hasEventListeners=v.listens,ad=S.extend(v);function b(a,b,c){this.x=c?Math.round(a):a,this.y=c?Math.round(b):b}bv=Math.trunc||function(a){return 0<a?Math.floor(a):Math.ceil(a)};function f(a,c,d){return a instanceof b?a:E(a)?new b(a[0],a[1]):a==null?a:"object"==typeof a&&"x"in a&&"y"in a?new b(a.x,a.y):new b(a,c,d)}function l(a,c){if(a)for(var d=c?[a,c]:a,b=0,e=d.length;b<e;b++)this.extend(d[b])}function K(a,b){return!a||a instanceof l?a:new l(a,b)}function w(a,c){if(a)for(var d=c?[a,c]:a,b=0,e=d.length;b<e;b++)this.extend(d[b])}function t(a,b){return a instanceof w?a:new w(a,b)}function j(a,b,c){if(isNaN(a)||isNaN(b))throw new Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a,this.lng=+b,void 0!==c&&(this.alt=+c)}function p(a,b,c){return a instanceof j?a:E(a)&&"object"!=typeof a[0]?3===a.length?new j(a[0],a[1],a[2]):2===a.length?new j(a[0],a[1]):null:a==null?a:"object"==typeof a&&"lat"in a?new j(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new j(a,b,c)}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(a){return this.clone()._add(f(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(f(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new b(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new b(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=bv(this.x),this.y=bv(this.y),this},distanceTo:function(a){var b=(a=f(a)).x-this.x,c=a.y-this.y;return Math.sqrt(b*b+c*c)},equals:function(a){return(a=f(a)).x===this.x&&a.y===this.y},contains:function(a){return a=f(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}},l.prototype={extend:function(a){return a=f(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,d;return(a=("number"==typeof a[0]||a instanceof b?f:K)(a))instanceof l?(c=a.min,d=a.max):c=d=a,c.x>=this.min.x&&d.x<=this.max.x&&c.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=K(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>=b.x&&d.x<=c.x,g=e.y>=b.y&&d.y<=c.y;return f&&g},overlaps:function(a){a=K(a);var b=this.min,c=this.max,d=a.min,e=a.max,f=e.x>b.x&&d.x<c.x,g=e.y>b.y&&d.y<c.y;return f&&g},isValid:function(){return!!this.min&&!!this.max}},w.prototype={extend:function(a){var b,c,d=this._southWest,e=this._northEast;if(a instanceof j)c=b=a;else{if(!(a instanceof w))return a?this.extend(p(a)||t(a)):this;if(b=a._southWest,c=a._northEast,!b||!c)return this}return d||e?(d.lat=Math.min(b.lat,d.lat),d.lng=Math.min(b.lng,d.lng),e.lat=Math.max(c.lat,e.lat),e.lng=Math.max(c.lng,e.lng)):(this._southWest=new j(b.lat,b.lng),this._northEast=new j(c.lat,c.lng)),this},pad:function(c){var a=this._southWest,b=this._northEast,d=Math.abs(a.lat-b.lat)*c,e=Math.abs(a.lng-b.lng)*c;return new w(new j(a.lat-d,a.lng-e),new j(b.lat+d,b.lng+e))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a=("number"==typeof a[0]||a instanceof j||"lat"in a?p:t)(a);var b,c,d=this._southWest,e=this._northEast;return a instanceof w?(b=a.getSouthWest(),c=a.getNorthEast()):b=c=a,b.lat>=d.lat&&c.lat<=e.lat&&b.lng>=d.lng&&c.lng<=e.lng},intersects:function(a){a=t(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>=b.lat&&d.lat<=c.lat,g=e.lng>=b.lng&&d.lng<=c.lng;return f&&g},overlaps:function(a){a=t(a);var b=this._southWest,c=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),f=e.lat>b.lat&&d.lat<c.lat,g=e.lng>b.lng&&d.lng<c.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,b){return!!a&&(a=t(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return!!this._southWest&&!!this._northEast}},Q={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),d=this.transformation.untransform(a,c);return this.projection.unproject(d)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var a=this.projection.bounds,b=this.scale(c);return new l(this.transformation.transform(a.min,b),this.transformation.transform(a.max,b))},infinite:!(j.prototype={equals:function(a,b){return!!a&&(a=p(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1e-9:b))},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return X.distance(this,p(a))},wrap:function(){return X.wrapLatLng(this)},toBounds:function(c){var a=180*c/40075017,b=a/Math.cos(Math.PI/180*this.lat);return t([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new j(this.lat,this.lng,this.alt)}}),wrapLatLng:function(a){var b=this.wrapLng?aF(a.lng,this.wrapLng,!0):a.lng;return new j(this.wrapLat?aF(a.lat,this.wrapLat,!0):a.lat,b,a.alt)},wrapLatLngBounds:function(a){var b,c,d=a.getCenter(),g=this.wrapLatLng(d),e=d.lat-g.lat,f=d.lng-g.lng;return 0==e&&0==f?a:(b=a.getSouthWest(),c=a.getNorthEast(),new w(new j(b.lat-e,b.lng-f),new j(c.lat-e,c.lng-f)))}},X=i({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(b,c){var a=Math.PI/180,g=b.lat*a,h=c.lat*a,d=Math.sin((c.lat-b.lat)*a/2),e=Math.sin((c.lng-b.lng)*a/2),f=d*d+Math.cos(g)*Math.cos(h)*e*e,i=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f));return this.R*i}}),cm=6378137,bV={R:cm,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,d=this.MAX_LATITUDE,f=Math.max(Math.min(d,a.lat),-d),e=Math.sin(f*c);return new b(this.R*a.lng*c,this.R*Math.log((1+e)/(1-e))/2)},unproject:function(a){var b=180/Math.PI;return new j((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b,a.x*b/this.R)},bounds:new l([-(aJ=cm*Math.PI),-aJ],[aJ,aJ])};function cq(a,b,c,d){if(E(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=b,this._c=c,this._d=d}function ba(a,b,c,d){return new cq(a,b,c,d)}cq.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(c,a){return a=a||1,new b((c.x/a-this._b)/this._a,(c.y/a-this._d)/this._c)}},aU=i({},X,{code:"EPSG:3857",projection:bV,transformation:ba(cx=.5/(Math.PI*bV.R),.5,-cx,.5)}),cw=i({},aU,{code:"EPSG:900913"});function cY(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function cX(g,h){for(var a,d,e,f,b="",c=0,i=g.length;c<i;c++){for(a=0,d=(e=g[c]).length;a<d;a++)b+=(a?"L":"M")+(f=e[a]).x+" "+f.y;b+=h?bc?"z":"x":""}return b||"M0 0"}bF=document.documentElement.style,aS="ActiveXObject"in window,ai=aS&&!document.addEventListener,aQ="msLaunchUri"in navigator&&!("documentMode"in document),bI=P("webkit"),au=P("android"),ar=P("android 2")||P("android 3"),da=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ck=au&&P("Google")&&da<537&&!("AudioNode"in window),bP=!!window.opera,bR=!aQ&&P("chrome"),bW=P("gecko")&&!bI&&!bP&&!aS,aI=!bR&&P("safari"),bZ=P("phantom"),bY="OTransition"in bF,b_=0===navigator.platform.indexOf("Win"),bT=aS&&"transition"in bF,bS="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ar,cg="MozPerspective"in bF,z=!window.L_DISABLE_3D&&(bT||bS||cg)&&!bY&&!bZ,al="undefined"!=typeof orientation||P("mobile"),df=al&&bI,dg=al&&bS,T=!window.PointerEvent&&window.MSPointerEvent,I=!!window.PointerEvent||!!T,J=!window.L_NO_TOUCH&&(I||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ci=al&&bP,dj=al&&bW,V=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),an=function(){var a,b=!1;try{a=Object.defineProperty({},"passive",{get:function(){b=!0}}),window.addEventListener("testPassiveEventSupport",r,a),window.removeEventListener("testPassiveEventSupport",r,a)}catch{}return b}(),co=!!document.createElement("canvas").getContext,bc=!!document.createElementNS&&!!cY("svg").createSVGRect,aN=!bc&&function(){try{var a,b=document.createElement("div");return b.innerHTML='<v:shape adj="1"/>',a=b.firstChild,a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch{return!1}}();function P(a){return 0<=navigator.userAgent.toLowerCase().indexOf(a)}dv={ie:aS,ielt9:ai,edge:aQ,webkit:bI,android:au,android23:ar,androidStock:ck,opera:bP,chrome:bR,gecko:bW,safari:aI,phantom:bZ,opera12:bY,win:b_,ie3d:bT,webkit3d:bS,gecko3d:cg,any3d:z,mobile:al,mobileWebkit:df,mobileWebkit3d:dg,msPointer:T,pointer:I,touch:J,mobileOpera:ci,mobileGecko:dj,retina:V,passiveEvents:an,canvas:co,svg:bc,vml:aN},bQ=T?"MSPointerDown":"pointerdown",bo=T?"MSPointerMove":"pointermove",bp=T?"MSPointerUp":"pointerup",bq=T?"MSPointerCancel":"pointercancel",aj={},cH=!1;function dz(h,b,c,d){function e(a){cC(a,i)}var f,g,a,i,j,l,m,n;function o(a){a.pointerType===(a.MSPOINTER_TYPE_MOUSE||"mouse")&&0===a.buttons||cC(a,l)}return"touchstart"===b?(g=h,m=c,n=d,a=k(function(a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&F(a),cC(a,m)}),g["_leaflet_touchstart"+n]=a,g.addEventListener(bQ,a,!1),cH||(document.addEventListener(bQ,dx,!0),document.addEventListener(bo,dy,!0),document.addEventListener(bp,dk,!0),document.addEventListener(bq,dk,!0),cH=!0)):"touchmove"===b?(l=c,(j=h)["_leaflet_touchmove"+d]=o,j.addEventListener(bo,o,!1)):"touchend"===b&&(i=c,(f=h)["_leaflet_touchend"+d]=e,f.addEventListener(bp,e,!1),f.addEventListener(bq,e,!1)),this}function dx(a){aj[a.pointerId]=a}function dy(a){aj[a.pointerId]&&(aj[a.pointerId]=a)}function dk(a){delete aj[a.pointerId]}function cC(a,b){for(var c in a.touches=[],aj)a.touches.push(aj[c]);a.changedTouches=[a],b(a)}aZ=T?"MSPointerDown":I?"pointerdown":"touchstart",aW=T?"MSPointerUp":I?"pointerup":"touchend",ae="_leaflet_",bH=bd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),at=bd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cM="webkitTransition"===at||"OTransition"===at?at+"End":"transitionend";function dh(a){return"string"==typeof a?document.getElementById(a):a}function aH(b,c){var d,a=b.style[c]||b.currentStyle&&b.currentStyle[c];return a&&"auto"!==a||!document.defaultView||(a=(d=document.defaultView.getComputedStyle(b,null))?d[c]:null),"auto"===a?null:a}function g(c,d,b){var a=document.createElement(c);return a.className=d||"",b&&b.appendChild(a),a}function n(a){var b=a.parentNode;b&&b.removeChild(a)}function bO(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function az(a){var b=a.parentNode;b&&b.lastChild!==a&&b.appendChild(a)}function av(b){var a=b.parentNode;a&&a.firstChild!==b&&a.insertBefore(b,a.firstChild)}function cf(a,b){if(void 0!==a.classList)return a.classList.contains(b);var c=bK(a);return 0<c.length&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(c)}function c(a,b){if(void 0!==a.classList)for(var d,e=aA(b),c=0,f=e.length;c<f;c++)a.classList.add(e[c]);else cf(a,b)||cc(a,((d=bK(a))?d+" ":"")+b)}function o(a,b){void 0!==a.classList?a.classList.remove(b):cc(a,cJ((" "+bK(a)+" ").replace(" "+b+" "," ")))}function cc(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function bK(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function D(a,b){"opacity"in a.style?a.style.opacity=b:"filter"in a.style&&function(c,a){var b=!1,d="DXImageTransform.Microsoft.Alpha";try{b=c.filters.item(d)}catch{if(1===a)return}a=Math.round(100*a),b?(b.Enabled=100!==a,b.Opacity=a):c.style.filter+=" progid:"+d+"(opacity="+a+")"}(a,b)}function bd(b){for(var c=document.documentElement.style,a=0;a<b.length;a++)if(b[a]in c)return b[a];return!1}function ak(d,e,c){var a=e||new b(0,0);d.style[bH]=(bT?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(c?" scale("+c+")":"")}function s(a,b){a._leaflet_pos=b,z?ak(a,b):(a.style.left=b.x+"px",a.style.top=b.y+"px")}function Z(a){return a._leaflet_pos||new b(0,0)}function b$(){d(window,"dragstart",F)}function ca(){q(window,"dragstart",F)}function cb(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(bU(),bG=(aL=a).style.outline,a.style.outline="none",d(window,"keydown",bU))}function bU(){aL&&(aL.style.outline=bG,bG=aL=void 0,q(window,"keydown",bU))}function dd(a){for(;!((a=a.parentNode).offsetWidth&&a.offsetHeight||a===document.body););return a}function ce(a){var b=a.getBoundingClientRect();return{x:b.width/a.offsetWidth||1,y:b.height/a.offsetHeight||1,boundingClientRect:b}}aO="onselectstart"in document?(aD=function(){d(window,"selectstart",F)},function(){q(window,"selectstart",F)}):(ah=bd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),aD=function(){var a;ah&&(a=document.documentElement.style,bB=a[ah],a[ah]="none")},function(){ah&&(document.documentElement.style[ah]=bB,bB=void 0)}),ct={TRANSFORM:bH,TRANSITION:at,TRANSITION_END:cM,get:dh,getStyle:aH,create:g,remove:n,empty:bO,toFront:az,toBack:av,hasClass:cf,addClass:c,removeClass:o,setClass:cc,getClass:bK,setOpacity:D,testProp:bd,setTransform:ak,setPosition:s,getPosition:Z,disableTextSelection:aD,enableTextSelection:aO,disableImageDrag:b$,enableImageDrag:ca,preventOutline:cb,restoreOutline:bU,getSizedParentNode:dd,getScale:ce};function d(d,a,e,f){if("object"==typeof a)for(b in a)bL(d,b,a[b],e);else for(var b,c=0,g=(a=aA(a)).length;c<g;c++)bL(d,a[c],e,f);return this}y="_leaflet_events";function q(b,a,f,g){if("object"==typeof a)for(c in a)cj(b,c,a[c],f);else if(a)for(var c,d,e=0,h=(a=aA(a)).length;e<h;e++)cj(b,a[e],f,g);else{for(d in b[y])cj(b,d,b[y][d]);delete b[y]}return this}function db(){return I&&!aQ&&!aI}aP={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bL(b,a,m,i){if(f=a+h(m)+(i?"_"+h(i):""),b[y]&&b[y][f])return this;var c,e,f,g,j,k,l,d=function(a){return m.call(i||b,a||window.event)},n=d;function o(a){if(I){{if(!a.isPrimary)return;if("mouse"===a.pointerType)return}}else if(1<a.touches.length)return;var b=Date.now(),d=b-(k||b);c=a.touches?a.touches[0]:a,l=0<d&&d<=250,k=b}function p(e){if(l&&!c.cancelBubble){if(I){if("mouse"===e.pointerType)return;var a,b,d={};for(b in c)a=c[b],d[b]=a&&a.bind?a.bind(c):a;c=d}c.type="dblclick",c.button=0,g(c),k=null}}I&&0===a.indexOf("touch")?dz(b,a,d,f):J&&"dblclick"===a&&!db()?(g=d,l=!1,(e=b)[ae+aZ+(j=f)]=o,e[ae+aW+j]=p,e[ae+"dblclick"+j]=g,e.addEventListener(aZ,o,!!an&&{passive:!1}),e.addEventListener(aW,p,!!an&&{passive:!1}),e.addEventListener("dblclick",g,!1)):"addEventListener"in b?"touchstart"===a||"touchmove"===a||"wheel"===a||"mousewheel"===a?b.addEventListener(aP[a]||a,d,!!an&&{passive:!1}):"mouseenter"===a||"mouseleave"===a?(d=function(a){a=a||window.event,bE(b,a)&&n(a)},b.addEventListener(aP[a],d,!1)):b.addEventListener(a,n,!1):"attachEvent"in b&&b.attachEvent("on"+a,d),b[y]=b[y]||{},b[y][f]=d}function cj(a,b,o,n){var c,e,d,g,j,k,l,m,f=b+h(o)+(n?"_"+h(n):""),i=a[y]&&a[y][f];if(!i)return this;I&&0===b.indexOf("touch")?(d=(e=a)["_leaflet_"+(g=b)+f],"touchstart"===g?e.removeEventListener(bQ,d,!1):"touchmove"===g?e.removeEventListener(bo,d,!1):"touchend"===g&&(e.removeEventListener(bp,d,!1),e.removeEventListener(bq,d,!1))):J&&"dblclick"===b&&!db()?(k=(c=a)[ae+aZ+(j=f)],l=c[ae+aW+j],m=c[ae+"dblclick"+j],c.removeEventListener(aZ,k,!!an&&{passive:!1}),c.removeEventListener(aW,l,!!an&&{passive:!1}),c.removeEventListener("dblclick",m,!1)):"removeEventListener"in a?a.removeEventListener(aP[b]||b,i,!1):"detachEvent"in a&&a.detachEvent("on"+b,i),a[y][f]=null}function ao(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,cs(a),this}function cl(a){return bL(a,"wheel",ao),this}function aK(a){return d(a,"mousedown touchstart dblclick",ao),bL(a,"click",cr),this}function F(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function U(a){return F(a),ao(a),this}function c$(a,c){if(!c)return new b(a.clientX,a.clientY);var d=ce(c),e=d.boundingClientRect;return new b((a.clientX-e.left)/d.x-c.clientLeft,(a.clientY-e.top)/d.y-c.clientTop)}cz=b_&&bR?2*window.devicePixelRatio:bW?window.devicePixelRatio:1;function c_(a){return aQ?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/cz:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}aR={};function cr(a){aR[a.type]=!0}function cs(a){var b=aR[a.type];return aR[a.type]=!1,b}function bE(b,c){var a=c.relatedTarget;if(!a)return!0;try{for(;a&&a!==b;)a=a.parentNode}catch{return!1}return a!==b}cZ={on:d,off:q,stopPropagation:ao,disableScrollPropagation:cl,disableClickPropagation:aK,preventDefault:F,stop:U,getMousePosition:c$,getWheelDelta:c_,fakeStop:cr,skipped:cs,isExternalTarget:bE,addListener:d,removeListener:q},cv=ad.extend({run:function(a,b,c,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Z(a),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=u(this._animate,this),this._step()},_step:function(c){var a=new Date-this._startTime,b=1e3*this._duration;a<b?this._runFrame(this._easeOut(a/b),c):(this._runFrame(1),this._complete())},_runFrame:function(b,c){var a=this._startPos.add(this._offset.multiplyBy(b));c&&a._round(),s(this._el,a),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),e=ad.extend({options:{crs:aU,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,a){a=m(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(b),this._initLayout(),this._onResize=k(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&&void 0!==a.zoom&&this.setView(p(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=at&&z&&!ci&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),d(this._proxy,cM,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,b,a){return(b=void 0===b?this._zoom:this._limitZoom(b),c=this._limitCenter(p(c),b,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a)&&(void 0!==a.animate&&(a.zoom=i({animate:a.animate},a.zoom),a.pan=i({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,b,a.zoom):this._tryAnimatedPan(c,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(c,b),this)},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(z?this.options.zoomDelta:1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){return a=a||(z?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,c,e){var f=this.getZoomScale(c),d=this.getSize().divideBy(2),g=(a instanceof b?a:this.latLngToContainerPoint(a)).subtract(d).multiplyBy(1-1/f),h=this.containerPointToLatLng(d.add(g));return this.setView(h,c,{zoom:e})},_getBoundsCenterZoom:function(b,c){var d,e,a,g,h,i;return c=c||{},b=b.getBounds?b.getBounds():t(b),d=f(c.paddingTopLeft||c.padding||[0,0]),e=f(c.paddingBottomRight||c.padding||[0,0]),a=this.getBoundsZoom(b,!1,d.add(e)),(a="number"==typeof c.maxZoom?Math.min(c.maxZoom,a):a)===1/0?{center:b.getCenter(),zoom:a}:(g=e.subtract(d).divideBy(2),h=this.project(b.getSouthWest(),a),i=this.project(b.getNorthEast(),a),{center:this.unproject(h.add(i).divideBy(2).add(g),a),zoom:a})},fitBounds:function(a,b){if(!(a=t(a)).isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(a,b);return this.setView(c.center,c.zoom,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a,b){return b=b||{},(a=f(a).round()).x||a.y?(!0===b.animate||this.getSize().contains(a)?(this._panAnim||(this._panAnim=new cv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate?(c(this._mapPane,"leaflet-pan-anim"),d=this._getMapPanePos().subtract(a).round(),this._panAnim.run(this._mapPane,d,b.duration||.25,b.easeLinearity)):(this._rawPanBy(a),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this):this.fire("moveend");var d},flyTo:function(i,e,c){var k,n,m,h,b,a,j,g,d,f,s,o,t;if(!1===(c=c||{}).animate||!z)return this.setView(i,e,c);this._stop(),k=this.project(this.getCenter()),n=this.project(i),m=this.getSize(),h=this._zoom,i=p(i),e=void 0===e?h:e,a=Math.max(m.x,m.y),j=a*this.getZoomScale(h,e),g=n.distanceTo(k)||1,d=1.42,f=d*d;function q(c){var b=(j*j-a*a+(c?-1:1)*f*f*g*g)/(2*(c?j:a)*f*g),d=Math.sqrt(b*b+1)-b;return d<1e-9?-18:Math.log(d)}function r(a){return(Math.exp(a)-Math.exp(-a))/2}function l(a){return(Math.exp(a)+Math.exp(-a))/2}b=q(0);function v(e){return a*(l(b)*(r(c=b+d*e)/l(c))-r(b))/f;var c}return s=Date.now(),o=(q(1)-b)/d,t=c.duration?1e3*c.duration:1e3*o*.8,this._moveStart(!0,c.noMoveStart),function p(){var c,f,j=(Date.now()-s)/t,m=(c=j,(1-Math.pow(1-c,1.5))*o);j<=1?(this._flyToFrame=u(p,this),this._move(this.unproject(k.add(n.subtract(k).multiplyBy(v(m)/g)),h),this.getScaleZoom(a/(f=m,a*(l(b)/l(b+d*f))),h),{flyTo:!0})):this._move(i,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(c,a){var b=this._getBoundsCenterZoom(c,a);return this.flyTo(b.center,b.zoom,a)},setMaxBounds:function(a){return(a=t(a)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(a){var b=this.options.minZoom;return this.options.minZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(c,d){this._enforcingBounds=!0;var a=this.getCenter(),b=this._limitCenter(a,this._zoom,t(c));return a.equals(b)||this.panTo(b,d),this._enforcingBounds=!1,this},panInside:function(l,d){var a,c,j=f((d=d||{}).paddingTopLeft||d.padding||[0,0]),k=f(d.paddingBottomRight||d.padding||[0,0]),m=this.getCenter(),h=this.project(m),b=this.project(l),i=this.getPixelBounds(),g=i.getSize().divideBy(2),e=K([i.min.add(j),i.max.subtract(k)]);return e.contains(b)||(this._enforcingBounds=!0,c=h.subtract(b),a=f(b.x+c.x,b.y+c.y),(b.x<e.min.x||b.x>e.max.x)&&(a.x=h.x-c.x,0<c.x?a.x+=g.x-j.x:a.x-=g.x-k.x),(b.y<e.min.y||b.y>e.max.y)&&(a.y=h.y-c.y,0<c.y?a.y+=g.y-j.y:a.y-=g.y-k.y),this.panTo(this.unproject(a),d),this._enforcingBounds=!1),this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},!0===a?{animate:!0}:a),c=this.getSize(),this._sizeChanged=!0,this._lastCenter=null;var c,d=this.getSize(),e=c.divideBy(2).round(),f=d.divideBy(2).round(),b=e.subtract(f);return b.x||b.y?(a.animate&&a.pan?this.panBy(b):(a.pan&&this._rawPanBy(b),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(k(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=k(this._handleGeolocationResponse,this),c=k(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){var a=b.code,c=b.message||(1===a?"permission denied":2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(a){var c,d,b,e=new j(a.coords.latitude,a.coords.longitude),g=e.toBounds(2*a.coords.accuracy),f=this._locateOptions;f.setView&&(c=this.getBoundsZoom(g),this.setView(e,f.maxZoom?Math.min(c,f.maxZoom):c)),d={latlng:e,bounds:g,timestamp:a.timestamp};for(b in a.coords)"number"==typeof a.coords[b]&&(d[b]=a.coords[b]);this.fire("locationfound",d)},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var a;for(a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),n(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)n(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var b=g("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new w(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,i,d){c=t(c),d=f(d||[0,0]);var a=this.getZoom()||0,n=this.getMinZoom(),m=this.getMaxZoom(),l=c.getNorthWest(),k=c.getSouthEast(),j=this.getSize().subtract(d),h=K(this.project(k,a),this.project(l,a)).getSize(),b=z?this.options.zoomSnap:1,g=j.x/h.x,e=j.y/h.y,o=i?Math.max(g,e):Math.min(g,e),a=this.getScaleZoom(o,a);return b&&(a=Math.round(a/(b/100))*(b/100),a=i?Math.ceil(a/b)*b:Math.floor(a/b)*b),Math.max(n,Math.min(m,a))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,c){var a=this._getTopLeftPoint(b,c);return new l(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,a){var b=this.options.crs;return a=void 0===a?this._zoom:a,b.scale(c)/b.scale(a)},getScaleZoom:function(d,a){var b,c=this.options.crs;return a=void 0===a?this._zoom:a,b=c.zoom(d*c.scale(a)),isNaN(b)?1/0:b},project:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(p(b),a)},unproject:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(f(b),a)},layerPointToLatLng:function(a){var b=f(a).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(a){return this.project(p(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(p(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(t(a))},distance:function(a,b){return this.options.crs.distance(p(a),p(b))},containerPointToLayerPoint:function(a){return f(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return f(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var b=this.containerPointToLayerPoint(f(a));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(p(a)))},mouseEventToContainerPoint:function(a){return c$(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(b){var a=this._container=dh(b);if(!a)throw new Error("Map container not found.");if(a._leaflet_id)throw new Error("Map container is already initialized.");d(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var a,b=this._container;this._fadeAnimated=this.options.fadeAnimation&&z,c(b,"leaflet-container"+(J?" leaflet-touch":"")+(V?" leaflet-retina":"")+(ai?" leaflet-oldie":"")+(aI?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),a=aH(b,"position"),"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(b.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),s(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(c(a.markerPane,"leaflet-zoom-hide"),c(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,a){s(this._mapPane,new b(0,0));var c,e=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset"),c=this._zoom!==a,this._moveStart(c,!1)._move(d,a)._moveEnd(c),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(a,b){return a&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(c,a,b){void 0===a&&(a=this._zoom);var d=this._zoom!==a;return this._zoom=a,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),(d||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){s(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={};var b=a?q:d;b((this._targets[h(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),z&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=u(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(b,c){for(var d,e=[],f="mouseout"===c||"mouseover"===c,a=b.target||b.srcElement,g=!1;a;){if((d=this._targets[h(a)])&&("click"===c||"preclick"===c)&&!b._simulated&&this._draggableMoved(d)){g=!0;break}if(d&&d.listens(c,!0)){if(f&&!bE(a,b))break;if(e.push(d),f)break}if(a===this._container)break;a=a.parentNode}return e.length||g||f||!bE(a,b)||(e=[this]),e},_handleDOMEvent:function(a){var b;this._loaded&&!cs(a)&&("mousedown"!==(b=a.type)&&"keypress"!==b&&"keyup"!==b&&"keydown"!==b||cb(a.target||a.srcElement),this._fireDOMEvent(a,b))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,c){if("click"===a.type&&((g=i({},a)).type="preclick",this._fireDOMEvent(g,g.type,c)),!a._stopped&&(c=(c||[]).concat(this._findEventTargets(a,f))).length){var b,e,g,h,d=c[0];"contextmenu"===f&&d.listens(f,!0)&&F(a),b={originalEvent:a},"keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type&&(h=d.getLatLng&&(!d._radius||d._radius<=10),b.containerPoint=h?this.latLngToContainerPoint(d.getLatLng()):this.mouseEventToContainerPoint(a),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=h?d.getLatLng():this.layerPointToLatLng(b.layerPoint));for(e=0;e<c.length;e++)if(c[e].fire(f,b,!0),b.originalEvent._stopped||!1===c[e].options.bubblingMouseEvents&&-1!==dn(this._mouseEvents,f))return}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,{target:this}):this.on("load",a,b),this},_getMapPanePos:function(){return Z(this._mapPane)||new b(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,b){return(a&&void 0!==b?this._getNewPixelOrigin(a,b):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(b,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(b,a,d){var c=this._getNewPixelOrigin(d,a);return K([this.project(b.getSouthWest(),a)._subtract(c),this.project(b.getNorthWest(),a)._subtract(c),this.project(b.getSouthEast(),a)._subtract(c),this.project(b.getNorthEast(),a)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,d){if(!d)return a;var c=this.project(a,b),e=this.getSize().divideBy(2),g=new l(c.subtract(e),c.add(e)),f=this._getBoundsOffset(g,d,b);return f.round().equals([0,0])?a:this.unproject(c.add(f),b)},_limitOffset:function(a,b){if(!b)return a;var c=this.getPixelBounds(),d=new l(c.min.add(a),c.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,c,d){var e=K(this.project(c.getNorthEast(),d),this.project(c.getSouthWest(),d)),f=e.min.subtract(a.min),g=e.max.subtract(a.max);return new b(this._rebound(f.x,-g.x),this._rebound(f.y,-g.y))},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var c=this.getMinZoom(),d=this.getMaxZoom(),b=z?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(d,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,a){var b=this._getCenterOffset(c)._trunc();return!(!0!==(a&&a.animate)&&!this.getSize().contains(b))&&(this.panBy(b,a),!0)},_createAnimProxy:function(){var a=this._proxy=g("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(a){var b=bH,c=this._proxy.style[b];ak(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),c===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){n(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var b=this.getCenter(),a=this.getZoom();ak(this._proxy,this.project(b,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,b,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||!1===a.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(c)._divideBy(1-1/d);return!(!0!==a.animate&&!this.getSize().contains(e))&&(u(function(){this._moveStart(!0,!1)._animateZoom(c,b,!0)},this),!0)},_animateZoom:function(a,b,d,e){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=b,c(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:b,noUpdate:e}),setTimeout(k(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&o(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),u(function(){this._moveEnd(!0)},this))}});function aV(a){return new B(a)}B=S.extend({options:{position:"topright"},initialize:function(a){m(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;return a&&a.removeControl(this),this.options.position=b,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var b=this._container=this.onAdd(a),e=this.getPosition(),d=a._controlCorners[e];return c(b,"leaflet-control"),-1!==e.indexOf("bottom")?d.insertBefore(b,d.firstChild):d.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(n(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(a){this._map&&a&&0<a.screenX&&0<a.screenY&&this._map.getContainer().focus()}}),e.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var c=this._controlCorners={},b="leaflet-",d=this._controlContainer=g("div",b+"control-container",this._container);function a(a,e){var f=b+a+" "+b+e;c[a+e]=g("div",f,d)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)n(this._controlCorners[a]);n(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),bC=B.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,d,a,b){return a<b?-1:b<a?1:0}},initialize:function(b,c,d){for(var a in m(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,b)this._addLayer(b[a],a);for(a in c)this._addLayer(c[a],a,!0)},onAdd:function(b){this._initLayout(),this._update(),(this._map=b).on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return B.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._map?this._update():this},addOverlay:function(a,b){return this._addLayer(a,b,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var b=this._getLayer(h(a));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){c(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(c(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):o(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return o(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a,e,b="leaflet-control-layers",c=this._container=g("div",b),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),aK(c),cl(c),e=this._section=g("section",b+"-list"),f&&(this._map.on("click",this.collapse,this),au||d(c,{mouseenter:this.expand,mouseleave:this.collapse},this)),a=this._layersLink=g("a",b+"-toggle",c),a.href="#",a.title="Layers",J?(d(a,"click",U),d(a,"click",this.expand,this)):d(a,"focus",this.expand,this),f||this.expand(),this._baseLayersList=g("div",b+"-base",e),this._separator=g("div",b+"-separator",e),this._overlaysList=g("div",b+"-overlays",e),c.appendChild(e)},_getLayer:function(b){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===b)return this._layers[a]},_addLayer:function(a,b,c){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:b,overlay:c}),this.options.sortLayers&&this._layers.sort(k(function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bO(this._baseLayersList),bO(this._overlaysList),this._layerControlInputs=[];for(var a,b,c,e=0,d=0;d<this._layers.length;d++)b=this._layers[d],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,e+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&1<e,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var b=this._getLayer(h(a.target)),c=b.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;c&&this._map.fire(c,b)},_createRadioElement:function(b,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"'+(c?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=d,a.firstChild},_addItem:function(b){var a,c,e,f=document.createElement("label"),g=this._map.hasLayer(b.layer);return b.overlay?((a=document.createElement("input")).type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=g):a=this._createRadioElement("leaflet-base-layers_"+h(this),g),this._layerControlInputs.push(a),a.layerId=h(b.layer),d(a,"click",this._onInputClick,this),e=document.createElement("span"),e.innerHTML=" "+b.name,c=document.createElement("div"),f.appendChild(c),c.appendChild(a),c.appendChild(e),(b.overlay?this._overlaysList:this._baseLayersList).appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var a,b,e,f=this._layerControlInputs,c=[],d=[];this._handlingClick=!0;for(a=f.length-1;0<=a;a--)b=f[a],e=this._getLayer(b.layerId).layer,b.checked?c.push(e):b.checked||d.push(e);for(a=0;a<d.length;a++)this._map.hasLayer(d[a])&&this._map.removeLayer(d[a]);for(a=0;a<c.length;a++)this._map.hasLayer(c[a])||this._map.addLayer(c[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a,b,d=this._layerControlInputs,e=this._map.getZoom(),c=d.length-1;0<=c;c--)b=d[c],a=this._getLayer(b.layerId).layer,b.disabled=void 0!==a.options.minZoom&&e<a.options.minZoom||void 0!==a.options.maxZoom&&e>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),aT=B.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(d){var b="leaflet-control-zoom",c=g("div",b+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,b+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,b+"-out",c,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(c,b,e,f,h){var a=g("a",e,f);return a.innerHTML=c,a.href="#",a.title=b,a.setAttribute("role","button"),a.setAttribute("aria-label",b),aK(a),d(a,"click",U),d(a,"click",h,this),d(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var a=this._map,b="leaflet-disabled";o(this._zoomInButton,b),o(this._zoomOutButton,b),!this._disabled&&a._zoom!==a.getMinZoom()||c(this._zoomOutButton,b),!this._disabled&&a._zoom!==a.getMaxZoom()||c(this._zoomInButton,b)}}),e.mergeOptions({zoomControl:!0}),e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new aT,this.addControl(this.zoomControl))}),bA=B.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var b="leaflet-control-scale",c=g("div",b),d=this.options;return this._addScales(d,b+"-line",c),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,c){a.metric&&(this._mScale=g("div",b,c)),a.imperial&&(this._iScale=g("div",b,c))},_update:function(){var a=this._map,b=a.getSize().y/2,c=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(b){var a=this._getRoundNum(b),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/b)},_updateImperial:function(e){var b,c,d,a=3.2808399*e;5280<a?(b=a/5280,c=this._getRoundNum(b),this._updateScale(this._iScale,c+" mi",c/b)):(d=this._getRoundNum(a),this._updateScale(this._iScale,d+" ft",d/a))},_updateScale:function(a,b,c){a.style.width=Math.round(this.options.maxWidth*c)+"px",a.innerHTML=b},_getRoundNum:function(b){var c=Math.pow(10,(Math.floor(b)+"").length-1),a=b/c;return c*(a=10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}}),bb=B.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){m(this,a),this._attributions={}},onAdd:function(a){for(var b in(a.attributionControl=this)._container=g("div","leaflet-control-attribution"),aK(this._container),a._layers)a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution());return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a&&(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update()),this},removeAttribution:function(a){return a&&this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a,b,c=[];for(b in this._attributions)this._attributions[b]&&c.push(b);a=[],this.options.prefix&&a.push(this.options.prefix),c.length&&a.push(c.join(", ")),this._container.innerHTML=a.join(" | ")}}}),e.mergeOptions({attributionControl:!0}),e.addInitHook(function(){this.options.attributionControl&&(new bb).addTo(this)}),B.Layers=bC,B.Zoom=aT,B.Scale=bA,B.Attribution=bb,aV.layers=function(a,b,c){return new bC(a,b,c)},aV.zoom=function(a){return new aT(a)},aV.scale=function(a){return new bA(a)},aV.attribution=function(a){return new bb(a)},C=S.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}}),C.addTo=function(a,b){return a.addHandler(b,this),this},cW={Events:v},cp=J?"touchstart mousedown":"mousedown",cB={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},bx={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},aa=ad.extend({options:{clickTolerance:3},initialize:function(a,b,c,d){m(this,d),this._element=a,this._dragStartTarget=b||a,this._preventOutline=c},enable:function(){this._enabled||(d(this._dragStartTarget,cp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(aa._dragging===this&&this.finishDrag(),q(this._dragStartTarget,cp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){var c,e;!a._simulated&&this._enabled&&(this._moved=!1,cf(this._element,"leaflet-zoom-anim")||aa._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||((aa._dragging=this)._preventOutline&&cb(this._element),b$(),aD(),this._moving||(this.fire("down"),c=a.touches?a.touches[0]:a,e=dd(this._element),this._startPoint=new b(c.clientX,c.clientY),this._parentScale=ce(e),d(document,bx[a.type],this._onMove,this),d(document,cB[a.type],this._onUp,this))))},_onMove:function(a){var d,e;!a._simulated&&this._enabled&&(a.touches&&1<a.touches.length?this._moved=!0:((d=new b((e=a.touches&&1===a.touches.length?a.touches[0]:a).clientX,e.clientY)._subtract(this._startPoint)).x||d.y)&&(Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,F(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Z(this._element).subtract(d),c(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),c(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,x(this._animRequest),this._lastEvent=a,this._animRequest=u(this._updatePosition,this,!0))))},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),s(this._element,this._newPos),this.fire("drag",a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var a in o(document.body,"leaflet-dragging"),this._lastTarget&&(o(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bx)q(document,bx[a],this._onMove,this),q(document,cB[a],this._onUp,this);ca(),aO(),this._moved&&this._moving&&(x(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,aa._dragging=!1}});function cV(a,b){if(!b||!a.length)return a.slice();var c=b*b;return a=function(d,f){var a,e,b=d.length,c=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(b);c[0]=c[b-1]=1,function j(b,d,e,f,g){var a,c,h,i=0;for(a=f+1;a<=g-1;a++)h=a_(b[a],b[f],b[g],!0),i<h&&(c=a,i=h);e<i&&(d[c]=1,j(b,d,e,f,c),j(b,d,e,c,g))}(d,c,f,0,b-1),e=[];for(a=0;a<b;a++)c[a]&&e.push(d[a]);return e}(a=function(a,f){for(var c=[a[0]],b=1,d=0,e=a.length;b<e;b++)(function(a,b){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d})(a[b],a[d])>f&&(c.push(a[b]),d=b);return d<e-1&&c.push(a[e-1]),c}(a,c),c)}function cT(a,b,c){return Math.sqrt(a_(a,b,c,!0))}function cQ(c,d,e,j,i){var f,g,h,a=j?cy:ab(c,e),b=ab(d,e);for(cy=b;;){if(!(a|b))return[c,d];if(a&b)return!1;g=ab(f=bs(c,d,h=a||b,e,i),e),h===a?(c=f,a=g):(d=f,b=g)}}function bs(a,j,f,k,l){var c,d,e=j.x-a.x,i=j.y-a.y,g=k.min,h=k.max;return 8&f?(c=a.x+e*(h.y-a.y)/i,d=h.y):4&f?(c=a.x+e*(g.y-a.y)/i,d=g.y):2&f?(c=h.x,d=a.y+i*(h.x-a.x)/e):1&f&&(c=g.x,d=a.y+i*(g.x-a.x)/e),new b(c,d,l)}function ab(b,c){var a=0;return b.x<c.min.x?a|=1:b.x>c.max.x&&(a|=2),b.y<c.min.y?a|=4:b.y>c.max.y&&(a|=8),a}function a_(g,j,h,k){var f,e=j.x,d=j.y,a=h.x-e,c=h.y-d,i=a*a+c*c;return 0<i&&(1<(f=((g.x-e)*a+(g.y-d)*c)/i)?(e=h.x,d=h.y):0<f&&(e+=a*f,d+=c*f)),a=g.x-e,c=g.y-d,k?a*a+c*c:new b(e,d)}function W(a){return!E(a[0])||"object"!=typeof a[0][0]&&void 0!==a[0][0]}function cP(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),W(a)}cA={simplify:cV,pointToSegmentDistance:cT,closestPointOnSegment:function(a,b,c){return a_(a,b,c)},clipSegment:cQ,_getEdgeIntersection:bs,_getBitCode:ab,_sqClosestPointOnSegment:a_,isFlat:W,_flat:cP};function cN(a,e,l){for(var c,d,f,h,g,i,j,m=[1,4,2,8],b=0,k=a.length;b<k;b++)a[b]._code=ab(a[b],e);for(i=0;i<4;i++){for(c=m[i],f=[],b=0,j=(k=a.length)-1;b<k;j=b++)h=a[b],g=a[j],h._code&c?g._code&c||((d=bs(g,h,c,e,l))._code=ab(d,e),f.push(d)):(g._code&c&&((d=bs(g,h,c,e,l))._code=ab(d,e),f.push(d)),f.push(h));a=f}return a}cO={clipPolygon:cN},bz={project:function(a){return new b(a.lng,a.lat)},unproject:function(a){return new j(a.y,a.x)},bounds:new l([-180,-90],[180,90])},bu={R:6378137,R_MINOR:6356752.314245179,bounds:new l([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(d){var e=Math.PI/180,c=this.R,a=d.lat*e,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),h=g*Math.sin(a),i=Math.tan(Math.PI/4-a/2)/Math.pow((1-h)/(1+h),g/2),a=-c*Math.log(Math.max(i,1e-10));return new b(d.lng*e*c,a)},unproject:function(d){for(var a,e=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),h=Math.exp(-d.y/c),b=Math.PI/2-2*Math.atan(h),i=0,k=.1;i<15&&1e-7<Math.abs(k);i++)a=g*Math.sin(b),a=Math.pow((1-a)/(1+a),g/2),b+=k=Math.PI/2-2*Math.atan(h*a)-b;return new j(b*e,d.x*e/c)}},cR={LonLat:bz,Mercator:bu,SphericalMercator:bV},cS=i({},X,{code:"EPSG:3395",projection:bu,transformation:ba(cL=.5/(Math.PI*bu.R),.5,-cL,.5)}),cF=i({},X,{code:"EPSG:4326",projection:bz,transformation:ba(1/180,1,-1/180,.5)}),cU=i({},Q,{projection:bz,transformation:ba(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,b){var c=b.lng-a.lng,d=b.lat-a.lat;return Math.sqrt(c*c+d*d)},infinite:!0}),Q.Earth=X,Q.EPSG3395=cS,Q.EPSG3857=aU,Q.EPSG900913=cw,Q.EPSG4326=cF,Q.Simple=cU,A=ad.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[h(a)]=this},removeInteractiveTarget:function(a){return delete this._map._targets[h(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var b,a=c.target;a.hasLayer(this)&&(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents&&(b=this.getEvents(),a.on(b,this),this.once("remove",function(){a.off(b,this)},this)),this.onAdd(a),this.getAttribution&&a.attributionControl&&a.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),a.fire("layeradd",{layer:this}))}}),e.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var b=h(a);return this._layers[b]||((this._layers[b]=a)._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var b=h(a);return this._layers[b]&&(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null),this},hasLayer:function(a){return!!a&&h(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){for(var b=0,c=(a=a?E(a)?a:[a]:[]).length;b<c;b++)this.addLayer(a[b])},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[h(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(b){var a=h(b);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var d,a=1/0,b=-1/0,e=this._getZoomSpan(),c;for(d in this._zoomBoundLayers)c=this._zoomBoundLayers[d].options,a=void 0===c.minZoom?a:Math.min(a,c.minZoom),b=void 0===c.maxZoom?b:Math.max(b,c.maxZoom);this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=a===1/0?void 0:a,e!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),ap=A.extend({initialize:function(b,d){var a,c;if(m(this,d),this._layers={},b)for(a=0,c=b.length;a<c;a++)this.addLayer(b[a])},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var b=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(a){return!!a&&("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(b){var a,c,d=Array.prototype.slice.call(arguments,1);for(c in this._layers)(a=this._layers[c])[b]&&a[b].apply(a,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:h}),am=ap.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ap.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ap.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a,b,c=new w;for(b in this._layers)a=this._layers[b],c.extend(a.getBounds?a.getBounds():a.getLatLng());return c}}),af=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(a){m(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c,d=this._getIconUrl(a);if(!d){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}return c=this._createImg(d,b&&"IMG"===b.tagName?b:null),this._setIconStyles(c,a),c},_setIconStyles:function(b,g){var a,d,e=this.options,c=e[g+"Size"];"number"==typeof c&&(c=[c,c]),a=f(c),d=f("shadow"===g&&e.shadowAnchor||e.iconAnchor||a&&a.divideBy(2,!0)),b.className="leaflet-marker-"+g+" "+(e.className||""),d&&(b.style.marginLeft=-d.x+"px",b.style.marginTop=-d.y+"px"),a&&(b.style.width=a.x+"px",b.style.height=a.y+"px")},_createImg:function(b,a){return(a=a||document.createElement("img")).src=b,a},_getIconUrl:function(a){return V&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),aB=af.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return aB.imagePath||(aB.imagePath=this._detectIconPath()),(this.options.imagePath||aB.imagePath)+af.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var b=g("div","leaflet-default-icon-path",document.body),a=aH(b,"background-image")||aH(b,"backgroundImage");return document.body.removeChild(b),a=null===a||0!==a.indexOf("url")?"":a.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),cu=C.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new aa(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),c(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&o(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var d,e=this._marker,g=e._map,k=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,c=Z(e._icon),b=g.getPixelBounds(),j=g.getPixelOrigin(),a=K(b.min._subtract(j).add(h),b.max._subtract(j).subtract(h));a.contains(c)||(d=f((Math.max(a.max.x,c.x)-a.max.x)/(b.max.x-a.max.x)-(Math.min(a.min.x,c.x)-a.min.x)/(b.min.x-a.min.x),(Math.max(a.max.y,c.y)-a.max.y)/(b.max.y-a.max.y)-(Math.min(a.min.y,c.y)-a.min.y)/(b.min.y-a.min.y)).multiplyBy(k),g.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),s(e._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=u(this._adjustPan.bind(this,i)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=u(this._adjustPan.bind(this,a)))},_onDrag:function(b){var a=this._marker,c=a._shadow,d=Z(a._icon),e=a._map.layerPointToLatLng(d);c&&s(c,d),a._latlng=e,b.latlng=e,b.oldLatLng=this._oldLatLng,a.fire("move",b).fire("drag",b)},_onDragEnd:function(a){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),aX=A.extend({options:{icon:new aB,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,b){m(this,b),this._latlng=p(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var b=this._latlng;return this._latlng=p(a),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var a;return this._icon&&this._map&&(a=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(a)),this},_initIcon:function(){var b,e,a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(d.title=a.title),"IMG"===d.tagName&&(d.alt=a.alt||"")),c(d,f),a.keyboard&&(d.tabIndex="0"),this._icon=d,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),b=a.icon.createShadow(this._shadow),e=!1,b!==this._shadow&&(this._removeShadow(),e=!0),b&&(c(b,f),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&e&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),n(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&n(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&s(this._icon,a),this._shadow&&s(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){var a;this.options.interactive&&(c(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cu&&(a=this.options.draggable,this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cu(this),a&&this.dragging.enable()))},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&D(this._icon,a),this._shadow&&D(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),R=A.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return m(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),aM=R.extend({options:{fill:!0,radius:10},initialize:function(a,b){m(this,b),this._latlng=p(a),this._radius=this.options.radius},setLatLng:function(a){var b=this._latlng;return this._latlng=p(a),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return R.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,b=this._clickTolerance(),c=[a+b,d+b];this._pxBounds=new l(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),bN=aM.extend({initialize:function(b,a,c){if("number"==typeof a&&(a=i({},c,{radius:a})),m(this,a),this._latlng=p(b),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new w(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:R.prototype.setStyle,_project:function(){var a,c,d,e,g,h,k,l,i=this._latlng.lng,f=this._latlng.lat,b=this._map,j=b.options.crs;j.distance===X.distance?(a=Math.PI/180,d=this._mRadius/X.R/a,h=b.project([f+d,i]),k=b.project([f-d,i]),e=h.add(k).divideBy(2),g=b.unproject(e).lat,c=Math.acos((Math.cos(d*a)-Math.sin(f*a)*Math.sin(g*a))/(Math.cos(f*a)*Math.cos(g*a)))/a,!isNaN(c)&&0!==c||(c=d/Math.cos(Math.PI/180*f)),this._point=e.subtract(b.getPixelOrigin()),this._radius=isNaN(c)?0:e.x-b.project([g,i-c]).x,this._radiusY=e.y-h.y):(l=j.unproject(j.project(this._latlng).subtract([this._mRadius,0])),this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(l).x),this._updateBounds()}}),M=R.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){m(this,b),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(g){for(var c,h,j,f=1/0,b=null,i=a_,e=0,k=this._parts.length,d,a,l;e<k;e++)for(d=this._parts[e],a=1,l=d.length;a<l;a++)c=i(g,h=d[a-1],j=d[a],!0),c<f&&(f=c,b=i(g,h,j));return b&&(b.distance=Math.sqrt(f)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var a,b,d,e,f,g,i,c=this._rings[0],h=c.length;if(!h)return null;for(d=a=0;a<h-1;a++)d+=c[a].distanceTo(c[a+1])/2;if(0===d)return this._map.layerPointToLatLng(c[0]);for(f=a=0;a<h-1;a++)if(e=c[a],b=c[a+1],d<(f+=i=e.distanceTo(b)))return g=(f-d)/i,this._map.layerPointToLatLng([b.x-g*(b.x-e.x),b.y-g*(b.y-e.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=p(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new w,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return W(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var c=[],d=W(b),a=0,e=b.length;a<e;a++)d?(c[a]=p(b[a]),this._bounds.extend(c[a])):c[a]=this._convertLatLngs(b[a]);return c},_project:function(){var a=new l;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new b(a,a);this._pxBounds=new l([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)])},_projectLatlngs:function(b,d,e){var a,c,g=b[0]instanceof j,f=b.length;if(g){for(c=[],a=0;a<f;a++)c[a]=this._map.latLngToLayerPoint(b[a]),e.extend(c[a]);d.push(c)}else for(a=0;a<f;a++)this._projectLatlngs(b[a],d,e)},_clipPoints:function(){if(f=this._renderer._bounds,this._parts=[],this._pxBounds&&this._pxBounds.intersects(f))if(this.options.noClip)this._parts=this._rings;else for(var a,e,c,f,g,d=this._parts,h=0,b=0,i=this._rings.length;h<i;h++)for(a=0,g=(c=this._rings[h]).length;a<g-1;a++)(e=cQ(c[a],c[a+1],f,a,!0))&&(d[b]=d[b]||[],d[b].push(e[0]),e[1]===c[a+1]&&a!==g-2||(d[b].push(e[1]),b++))},_simplifyPoints:function(){for(var b=this._parts,c=this.options.smoothFactor,a=0,d=b.length;a<d;a++)b[a]=cV(b[a],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,h){var a,b,c,d,g,f,i=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(b=0,g=this._parts.length;b<g;b++)for(a=0,c=(f=(d=this._parts[b]).length)-1;a<f;c=a++)if((h||0!==a)&&cT(e,d[c],d[a])<=i)return!0;return!1}}),M._flat=cP,Y=M.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var a,b,c,d,e,g,h,i,k,f=this._rings[0],j=f.length;if(!j)return null;for(d=c=h=i=0,g=j-1;d<j;g=d++)a=f[d],b=f[g],e=a.y*b.x-b.y*a.x,h+=(a.x+b.x)*e,i+=(a.y+b.y)*e,c+=3*e;return k=0===c?f[0]:[h/c,i/c],this._map.layerPointToLatLng(k)},_convertLatLngs:function(c){var a=M.prototype._convertLatLngs.call(this,c),b=a.length;return 2<=b&&a[0]instanceof j&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){M.prototype._setLatLngs.call(this,a),W(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return W(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c,d,e,a=this._renderer._bounds,f=this.options.weight,g=new b(f,f),a=new l(a.min.subtract(g),a.max.add(g));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else for(c=0,e=this._rings.length;c<e;c++)(d=cN(this._rings[c],a,!0)).length&&this._parts.push(d)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var b,c,d,e,f,g,i,j,h=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,i=this._parts.length;d<i;d++)for(e=0,g=(j=(f=this._parts[d]).length)-1;e<j;g=e++)b=f[e],c=f[g],b.y>a.y!=c.y>a.y&&a.x<(c.x-b.x)*(a.y-b.y)/(c.y-b.y)+b.x&&(h=!h);return h||M.prototype._containsPoint.call(this,a,!0)}}),H=am.extend({initialize:function(a,b){m(this,b),this._layers={},a&&this.addData(a)},addData:function(b){var a,c,d,e,g,f=E(b)?b:b.features;if(f){for(e=0,g=f.length;e<g;e++)((d=f[e]).geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}return c=this.options,c.filter&&!c.filter(b)?this:(a=cd(b,c),a?(a.feature=bw(b),a.defaultOptions=a.options,this.resetStyle(a),c.onEachFeature&&c.onEachFeature(b,a),this.addLayer(a)):this)},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){b.setStyle&&("function"==typeof a&&(a=a(b.feature)),b.setStyle(a))}});function cd(d,a){var b,f,g,k,j,c="Feature"===d.type?d.geometry:d,e=c?c.coordinates:null,i=[],l=a&&a.pointToLayer,h=a&&a.coordsToLatLng||ch;if(!e&&!c)return null;switch(c.type){case"Point":return de(l,d,k=h(e),a);case"MultiPoint":for(b=0,g=e.length;b<g;b++)k=h(e[b]),i.push(de(l,d,k,a));return new am(i);case"LineString":case"MultiLineString":return f=bM(e,"LineString"===c.type?0:1,h),new M(f,a);case"Polygon":case"MultiPolygon":return f=bM(e,"Polygon"===c.type?1:2,h),new Y(f,a);case"GeometryCollection":for(b=0,g=c.geometries.length;b<g;b++)j=cd({geometry:c.geometries[b],type:"Feature",properties:d.properties},a),j&&i.push(j);return new am(i);default:throw new Error("Invalid GeoJSON object.")}}function de(b,d,c,a){return b?b(d,c):new aX(c,a&&a.markersInheritOptions&&a)}function ch(a){return new j(a[1],a[0],a[2])}function bM(b,c,d){for(var e,f=[],a=0,g=b.length;a<g;a++)e=c?bM(b[a],c-1,d):(d||ch)(b[a]),f.push(e);return f}function bX(b,a){return a="number"==typeof a?a:6,void 0!==b.alt?[N(b.lng,a),N(b.lat,a),N(b.alt,a)]:[N(b.lng,a),N(b.lat,a)]}function bJ(c,d,e,f){for(var a=[],b=0,g=c.length;b<g;b++)a.push(d?bJ(c[b],d-1,e,f):bX(c[b],f));return!d&&e&&a.push(a[0]),a}function aw(a,b){return a.feature?i({},a.feature,{geometry:b}):bw(b)}function bw(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}aY={toGeoJSON:function(a){return aw(this,{type:"Point",coordinates:bX(this.getLatLng(),a)})}};function dl(a,b){return new H(a,b)}aX.include(aY),bN.include(aY),aM.include(aY),M.include({toGeoJSON:function(b){var a=!W(this._latlngs);return aw(this,{type:(a?"Multi":"")+"LineString",coordinates:bJ(this._latlngs,a?1:0,!1,b)})}}),Y.include({toGeoJSON:function(d){var a=!W(this._latlngs),c=a&&!W(this._latlngs[0]),b=bJ(this._latlngs,c?2:a?1:0,!0,d);return a||(b=[b]),aw(this,{type:(c?"Multi":"")+"Polygon",coordinates:b})}}),ap.include({toMultiPoint:function(b){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(b).geometry.coordinates)}),aw(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(c){if(b=this.feature&&this.feature.geometry&&this.feature.geometry.type,"MultiPoint"===b)return this.toMultiPoint(c);var b,d="GeometryCollection"===b,a=[];return this.eachLayer(function(f){var b,e;f.toGeoJSON&&(b=f.toGeoJSON(c),d?a.push(b.geometry):"FeatureCollection"===(e=bw(b)).type?a.push.apply(a,e.features):a.push(e))}),d?aw(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}}),dm=dl,aE=A.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a,this._bounds=t(b),m(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(c(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){n(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&az(this._image),this},bringToBack:function(){return this._map&&av(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=t(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b="IMG"===this._url.tagName,a=this._image=b?this._url:g("img");c(a,"leaflet-image-layer"),this._zoomAnimated&&c(a,"leaflet-zoom-animated"),this.options.className&&c(a,this.options.className),a.onselectstart=r,a.onmousemove=r,a.onload=k(this.fire,this,"load"),a.onerror=k(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),b?this._url=a.src:(a.src=this._url,a.alt=this.options.alt)},_animateZoom:function(a){var b=this._map.getZoomScale(a.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ak(this._image,c,b)},_reset:function(){var a=this._image,b=new l(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();s(a,b.min),a.style.width=c.x+"px",a.style.height=c.y+"px"},_updateOpacity:function(){D(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),cD=aE.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){if(d="VIDEO"===this._url.tagName,a=this._image=d?this._url:g("video"),c(a,"leaflet-image-layer"),this._zoomAnimated&&c(a,"leaflet-zoom-animated"),this.options.className&&c(a,this.options.className),a.onselectstart=r,a.onmousemove=r,a.onloadeddata=k(this.fire,this,"load"),d){for(var a,b,d,e,f=a.getElementsByTagName("source"),i=[],h=0;h<f.length;h++)i.push(f[h].src);this._url=0<f.length?i:[a.src]}else{E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted;for(b=0;b<this._url.length;b++)e=g("source"),e.src=this._url[b],a.appendChild(e)}}}),cG=aE.extend({_initImage:function(){var a=this._image=this._url;c(a,"leaflet-image-layer"),this._zoomAnimated&&c(a,"leaflet-zoom-animated"),this.options.className&&c(a,this.options.className),a.onselectstart=r,a.onmousemove=r}}),O=A.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){m(this,a),this._source=b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&D(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&D(this._container,1),this.bringToFront()},onRemove:function(a){a._fadeAnimated?(D(this._container,0),this._removeTimeout=setTimeout(k(n,void 0,this._container),200)):n(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=p(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&az(this._container),this},bringToBack:function(){return this._map&&av(this._container),this},_prepareOpen:function(c,a,b){if(a instanceof A||(b=a,a=c),a instanceof am)for(var d in c._layers){a=c._layers[d];break}if(!b)if(a.getCenter)b=a.getCenter();else{if(!a.getLatLng)throw new Error("Unable to get source layer LatLng.");b=a.getLatLng()}return this._source=a,this.update(),b},_updateContent:function(){if(this._content){var a=this._contentNode,b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){var a,b,c,d,e;this._map&&(b=this._map.latLngToLayerPoint(this._latlng),a=f(this.options.offset),c=this._getAnchor(),this._zoomAnimated?s(this._container,b.add(c)):a=a.add(b).add(c),d=this._containerBottom=-a.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+a.x,this._container.style.bottom=d+"px",this._container.style.left=e+"px")},_getAnchor:function(){return[0,0]}}),ac=O.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){O.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof R||this._source.on("preclick",ao))},onRemove:function(a){O.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof R||this._source.off("preclick",ao))},getEvents:function(){var a=O.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var c,a="leaflet-popup",b=this._container=g("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=g("div",a+"-content-wrapper",b);this._contentNode=g("div",a+"-content",e),aK(b),cl(this._contentNode),d(b,"contextmenu",ao),this._tipContainer=g("div",a+"-tip-container",b),this._tip=g("div",a+"-tip",this._tipContainer),this.options.closeButton&&((c=this._closeButton=g("a",a+"-close-button",b)).href="#close",c.innerHTML="&#215;",d(c,"click",this._onCloseButtonClick,this))},_updateLayout:function(){b=this._contentNode,a=b.style,a.width="",a.whiteSpace="nowrap",d=b.offsetWidth,d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),a.width=d+1+"px",a.whiteSpace="",a.height="";var a,b,d,g=b.offsetHeight,e=this.options.maxHeight,f="leaflet-popup-scrolled";e&&e<g?(a.height=e+"px",c(b,f)):o(b,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),c=this._getAnchor();s(this._container,b.add(c))},_adjustPan:function(){var a,c,d,e,g,h,i,j,k,l,m,n;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),i=this._map,m=parseInt(aH(this._container,"marginBottom"),10)||0,j=this._container.offsetHeight+m,k=this._containerWidth,(n=new b(this._containerLeft,-j-this._containerBottom))._add(Z(this._container)),a=i.layerPointToContainerPoint(n),l=f(this.options.autoPanPadding),e=f(this.options.autoPanPaddingTopLeft||l),g=f(this.options.autoPanPaddingBottomRight||l),h=i.getSize(),d=c=0,a.x+k+g.x>h.x&&(c=a.x+k-h.x+g.x),a.x-c-e.x<0&&(c=a.x-e.x),a.y+j+g.y>h.y&&(d=a.y+j-h.y+g.y),a.y-d-e.y<0&&(d=a.y-e.y),(c||d)&&i.fire("autopanstart").panBy([c,d]))},_onCloseButtonClick:function(a){this._close(),U(a)},_getAnchor:function(){return f(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),e.mergeOptions({closePopupOnClick:!0}),e.include({openPopup:function(a,b,c){return a instanceof ac||(a=new ac(c).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),A.include({bindPopup:function(a,b){return a instanceof ac?(m(a,b),(this._popup=a)._source=this):(this._popup&&!b||(this._popup=new ac(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(b,a){return this._popup&&this._map&&(a=this._popup._prepareOpen(this,b,a),this._map.openPopup(this._popup,a)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b=a.layer||a.target;this._popup&&this._map&&(U(a),b instanceof R?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}}),$=O.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){O.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){O.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=O.prototype.getEvents.call(this);return J&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var a="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=g("div",a)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var g,h=this._map,b=this._container,m=h.latLngToContainerPoint(h.getCenter()),l=h.layerPointToContainerPoint(e),a=this.options.direction,d=b.offsetWidth,j=b.offsetHeight,k=f(this.options.offset),i=this._getAnchor(),n="top"===a?(g=d/2,j):"bottom"===a?(g=d/2,0):(g="center"===a?d/2:"right"===a?0:"left"===a?d:l.x<m.x?(a="right",0):(a="left",d+2*(k.x+i.x)),j/2);e=e.subtract(f(g,n,!0)).add(k).add(i),o(b,"leaflet-tooltip-right"),o(b,"leaflet-tooltip-left"),o(b,"leaflet-tooltip-top"),o(b,"leaflet-tooltip-bottom"),c(b,"leaflet-tooltip-"+a),s(b,e)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&D(this._container,a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(b)},_getAnchor:function(){return f(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),e.include({openTooltip:function(a,b,c){return a instanceof $||(a=new $(c).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){return a&&this.removeLayer(a),this}}),A.include({bindTooltip:function(a,b){return a instanceof $?(m(a,b),(this._tooltip=a)._source=this):(this._tooltip&&!b||(this._tooltip=new $(b,this)),this._tooltip.setContent(a)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){var a,c;!b&&this._tooltipHandlersAdded||(c=b?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),J&&(a.click=this._openTooltip)),this[c](a),this._tooltipHandlersAdded=!b)},openTooltip:function(b,a){return this._tooltip&&this._map&&(a=this._tooltip._prepareOpen(this,b,a),this._map.openTooltip(this._tooltip,a),this._tooltip.options.interactive&&this._tooltip._container&&(c(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(o(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b,c,d=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),c=this._map.containerPointToLayerPoint(b),d=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(d)}}),by=af.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var d,a=c&&"DIV"===c.tagName?c:document.createElement("div"),b=this.options;return b.html instanceof Element?(bO(a),a.appendChild(b.html)):a.innerHTML=!1!==b.html?b.html:"",b.bgPos&&(d=f(b.bgPos),a.style.backgroundPosition=-d.x+"px "+-d.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}),af.Default=aB,ag=A.extend({options:{tileSize:256,opacity:1,updateWhenIdle:al,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){m(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),n(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(az(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(av(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=dp(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof b?a:new b(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var d,e=this.getPane().children,a=-c(-1/0,1/0),b=0,f=e.length;b<f;b++)d=e[b].style.zIndex,e[b]!==this._container&&d&&(a=c(a,+d));isFinite(a)&&(this.options.zIndex=a+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ai){D(this._container,this.options.opacity);var a,b,c,f=+new Date,d=!1,e=!1;for(c in this._tiles)a=this._tiles[c],a.current&&a.loaded&&(b=Math.min(1,(f-a.loaded)/200),D(a.el,b),b<1?d=!0:(a.active?e=!0:this._onOpaqueTile(a),a.active=!0));e&&!this._noPrune&&this._pruneTiles(),d&&(x(this._fadeFrame),this._fadeFrame=u(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=g("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a,b,d,c=this._tileZoom,e=this.options.maxZoom;if(void 0!==c){for(a in this._levels)a=Number(a),this._levels[a].el.children.length||a===c?(this._levels[a].el.style.zIndex=e-Math.abs(c-a),this._onUpdateLevel(a)):(n(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);return b=this._levels[c],d=this._map,b||((b=this._levels[c]={}).el=g("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=e,b.origin=d.project(d.unproject(d.getPixelOrigin()),c).round(),b.zoom=c,this._setZoomTransform(b,d.getCenter(),d.getZoom()),r(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var a,b,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)this._removeAllTiles();else{for(b in this._tiles)(c=this._tiles[b]).retain=c.current;for(b in this._tiles)(c=this._tiles[b]).current&&!c.active&&(a=c.coords,this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2));for(b in this._tiles)this._tiles[b].retain||this._removeTile(b)}}},_removeTilesAtZoom:function(b){for(var a in this._tiles)this._tiles[a].coords.z===b&&this._removeTile(a)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)n(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,j,k,f){var a,g,d=Math.floor(i/2),e=Math.floor(j/2),c=k-1,h=new b(+d,+e);return h.z=+c,g=this._tileCoordsToKey(h),a=this._tiles[g],a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),f<c&&this._retainParent(d,e,c,f))},_retainChildren:function(i,g,f,h){for(c=2*i;c<2*i+2;c++)for(d=2*g;d<2*g+2;d++){e=new b(c,d),e.z=f+1;var c,d,e,j=this._tileCoordsToKey(e),a=this._tiles[j];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),f+1<h&&this._retainChildren(c,d,f+1,h))}},_resetView:function(a){var b=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(b){var a=this.options;return void 0!==a.minNativeZoom&&b<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<b?a.maxNativeZoom:b},_setView:function(b,c,d,e){var a=Math.round(c),a=void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom?void 0:this._clampZoom(a),f=this.options.updateWhenZooming&&a!==this._tileZoom;e&&!f||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(b),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(b,c)},_setZoomTransforms:function(a,b){for(var c in this._levels)this._setZoomTransform(this._levels[c],a,b)},_setZoomTransform:function(a,e,b){var c=this._map.getZoomScale(b,a.zoom),d=a.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(e,b)).round();z?ak(a.el,d,c):s(a.el,d)},_resetGrid:function(){var b=this._map,a=b.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(b.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(b.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(d){var a=this._map,e=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(e,this._tileZoom),b=a.project(d,this._tileZoom).floor(),c=a.getSize().divideBy(2*f);return new l(b.subtract(c),b.add(c))},_update:function(j){if(f=this._map,f&&(n=this._clampZoom(f.getZoom()),void 0===j&&(j=f.getCenter()),void 0!==this._tileZoom)){var c,d,f,g,h,n,m,k,p,q=this._getTiledPixelBounds(j),a=this._pxBoundsToTileRange(q),o=a.getCenter(),e=[],i=this.options.keepBuffer,r=new l(a.getBottomLeft().subtract([i,-i]),a.getTopRight().add([i,-i]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(k in this._tiles)g=this._tiles[k].coords,g.z===this._tileZoom&&r.contains(new b(g.x,g.y))||(this._tiles[k].current=!1);if(1<Math.abs(n-this._tileZoom))this._setView(j,n);else{for(h=a.min.y;h<=a.max.y;h++)for(c=a.min.x;c<=a.max.x;c++)d=new b(c,h),d.z=this._tileZoom,this._isValidTile(d)&&((p=this._tiles[this._tileCoordsToKey(d)])?p.current=!0:e.push(d));if(e.sort(function(a,b){return a.distanceTo(o)-b.distanceTo(o)}),0!==e.length){this._loading||(this._loading=!0,this.fire("loading"));for(m=document.createDocumentFragment(),c=0;c<e.length;c++)this._addTile(e[c],m);this._level.el.appendChild(m)}}}},_isValidTile:function(a){var b,d,c=this._map.options.crs;return!(!c.infinite&&(b=this._globalTileRange,!c.wrapLng&&(a.x<b.min.x||a.x>b.max.x)||!c.wrapLat&&(a.y<b.min.y||a.y>b.max.y)))&&(!this.options.bounds||(d=this._tileCoordsToBounds(a),t(this.options.bounds).overlaps(d)))},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var b=this._map,c=this.getTileSize(),d=a.scaleBy(c),e=d.add(c);return[b.unproject(d,a.z),b.unproject(e,a.z)]},_tileCoordsToBounds:function(c){var b=this._tileCoordsToNwSe(c),a=new w(b[0],b[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(d){var a=d.split(":"),c=new b(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(a){var b=this._tiles[a];b&&(n(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){c(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px",a.style.height=b.y+"px",a.onselectstart=r,a.onmousemove=r,ai&&this.options.opacity<1&&D(a,this.options.opacity),au&&!ar&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,c){var d=this._getTilePos(a),e=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),k(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&u(k(this._tileReady,this,a,null,b)),s(b,d),this._tiles[e]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(b,d,a){d&&this.fire("tileerror",{error:d,tile:a,coords:b});var e=this._tileCoordsToKey(b);(a=this._tiles[e])&&(a.loaded=+new Date,this._map._fadeAnimated?(D(a.el,0),x(this._fadeFrame),this._fadeFrame=u(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),d||(c(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ai||!this._map._fadeAnimated?u(this._pruneTiles,this):setTimeout(k(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new b(this._wrapX?aF(a.x,this._wrapX):a.x,this._wrapY?aF(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new l(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),_=ag.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(b,a){this._url=b,(a=m(this,a)).detectRetina&&V&&0<a.maxZoom&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom)),"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split("")),au||this.on("tileunload",this._onTileRemove)},setUrl:function(b,a){return this._url===b&&void 0===a&&(a=!0),this._url=b,a||this.redraw(),this},createTile:function(c,b){var a=document.createElement("img");return d(a,"load",k(this._tileOnLoad,this,b,a)),d(a,"error",k(this._tileOnError,this,b,a)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),a.alt="",a.setAttribute("role","presentation"),a.src=this.getTileUrl(c),a},getTileUrl:function(a){var b,c={r:V?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(b=this._globalTileRange.max.y-a.y,this.options.tms&&(c.y=b),c["-y"]=b),dr(this._url,i(c,this.options))},_tileOnLoad:function(a,b){ai?setTimeout(k(a,this,null,b),0):a(null,b)},_tileOnError:function(c,a,d){var b=this.options.errorTileUrl;b&&a.getAttribute("src")!==b&&(a.src=b),c(d,a)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom;return this.options.zoomReverse&&(a=b-a),a+this.options.zoomOffset},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var a,b;for(b in this._tiles)this._tiles[b].coords.z!==this._tileZoom&&((a=this._tiles[b].el).onload=r,a.onerror=r,a.complete||(a.src=ax,n(a),delete this._tiles[b]))},_removeTile:function(a){var b=this._tiles[a];if(b)return ck||b.el.setAttribute("src",ax),ag.prototype._removeTile.call(this,a)},_tileReady:function(b,c,a){if(this._map&&(!a||a.getAttribute("src")!==ax))return ag.prototype._tileReady.call(this,b,c,a)}});function dt(a,b){return new _(a,b)}br=_.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,b){this._url=f,a=i({},this.defaultWmsParams);for(c in b)c in this.options||(a[c]=b[c]);var a,c,d=(b=m(this,b)).detectRetina&&V?2:1,e=this.getTileSize();a.width=e.x*d,a.height=e.y*d,this.wmsParams=a},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[b]=this._crs.code,_.prototype.onAdd.call(this,a)},getTileUrl:function(c){var d=this._tileCoordsToNwSe(c),e=this._crs,f=K(e.project(d[0]),e.project(d[1])),a=f.min,b=f.max,h=(1.3<=this._wmsVersion&&this._crs===cF?[a.y,a.x,b.y,b.x]:[a.x,a.y,b.x,b.y]).join(","),g=_.prototype.getTileUrl.call(this,c);return g+ds(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+h},setParams:function(a,b){return i(this.wmsParams,a),b||this.redraw(),this}}),_.WMS=br,dt.wms=function(a,b){return new br(a,b)},G=A.extend({options:{padding:.1,tolerance:0},initialize:function(a){m(this,a),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&c(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,a){var b=this._map.getZoomScale(a,this._zoom),f=Z(this._container),c=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),h=this._map.project(e,a).subtract(g),d=c.multiplyBy(-b).add(f).add(c).subtract(h);z?ak(this._container,d,b):s(this._container,d)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();this._bounds=new l(c,c.add(b.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bn=G.extend({getEvents:function(){var a=G.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){G.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");d(a,"mousemove",this._onMouseMove,this),d(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),d(a,"mouseout",this._handleMouseOut,this),this._ctx=a.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,n(this._container),q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){var a,b,c,d;this._map._animatingZoom&&this._bounds||(G.prototype._update.call(this),b=this._bounds,a=this._container,c=b.getSize(),d=V?2:1,s(a,b.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",V&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update"))},_reset:function(){G.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);var b=(this._layers[h(a)]=a)._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,b=d.next,c=d.prev;b?b.prev=c:this._drawLast=c,c?c.next=b:this._drawFirst=b,delete a._order,delete this._layers[h(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){for(var b,d=a.options.dashArray.split(/[, ]+/),e=[],c=0;c<d.length;c++){if(b=Number(d[c]),isNaN(b))return;e.push(b)}a.options._dashArray=e}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||u(this._redraw,this))},_extendRedrawBounds:function(b){var a;b._pxBounds&&(a=(b.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new l,this._redrawBounds.extend(b._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(b._pxBounds.max.add([a,a])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var b,a=this._redrawBounds;a?(b=a.getSize(),this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var b,c,d,a=this._redrawBounds;this._ctx.save(),a&&(d=a.getSize(),this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,d.x,d.y),this._ctx.clip()),this._drawing=!0;for(b=this._drawFirst;b;b=b.next)c=b.layer,(!a||c._pxBounds&&c._pxBounds.intersects(a))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,i){if(this._drawing){var a,b,e,g,d=h._parts,f=d.length,c=this._ctx;if(f){for(c.beginPath(),a=0;a<f;a++){for(b=0,g=d[a].length;b<g;b++)e=d[a][b],c[b?"lineTo":"moveTo"](e.x,e.y);i&&c.closePath()}this._fillStroke(c,h)}}},_updateCircle:function(b){var a,c,d,e;this._drawing&&!b._empty()&&(e=b._point,a=this._ctx,c=Math.max(Math.round(b._radius),1),1!=(d=(Math.max(Math.round(b._radiusY),1)||c)/c)&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(e.x,e.y/d,c,0,2*Math.PI,!1),1!=d&&a.restore(),this._fillStroke(a,b))},_fillStroke:function(b,c){var a=c.options;a.fill&&(b.globalAlpha=a.fillOpacity,b.fillStyle=a.fillColor||a.color,b.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(b.setLineDash&&b.setLineDash(c.options&&c.options._dashArray||[]),b.globalAlpha=a.opacity,b.lineWidth=a.weight,b.strokeStyle=a.color,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.stroke())},_onClick:function(a){for(var b,d,e=this._map.mouseEventToLayerPoint(a),c=this._drawFirst;c;c=c.next)(b=c.layer).options.interactive&&b._containsPoint(e)&&(("click"===a.type||"preclick"!==a.type)&&this._map._draggableMoved(b)||(d=b));d&&(cr(a),this._fireEvent([d],a))},_onMouseMove:function(a){var b;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(b=this._map.mouseEventToLayerPoint(a),this._handleMouseHover(a,b))},_handleMouseOut:function(b){var a=this._hoveredLayer;a&&(o(this._container,"leaflet-interactive"),this._fireEvent([a],b,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,f){if(!this._mouseHoverThrottled){for(var a,e,b=this._drawFirst;b;b=b.next)(e=b.layer).options.interactive&&e._containsPoint(f)&&(a=e);a!==this._hoveredLayer&&(this._handleMouseOut(d),a&&(c(this._container,"leaflet-interactive"),this._fireEvent([a],d,"mouseover"),this._hoveredLayer=a)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],d),this._mouseHoverThrottled=!0,setTimeout(k(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(b,a,c){this._map._fireDOMEvent(a,c||a.type,b)},_bringToFront:function(d){var a,c,b=d._order;b&&(a=b.next,c=b.prev,a&&((a.prev=c)?c.next=a:a&&(this._drawFirst=a),b.prev=this._drawLast,(this._drawLast.next=b).next=null,this._drawLast=b,this._requestRedraw(d)))},_bringToBack:function(d){var b,c,a=d._order;a&&(c=a.next,(b=a.prev)&&((b.next=c)?c.prev=b:b&&(this._drawLast=b),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(d)))}});function du(a){return co?new bn(a):null}aC=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),dq={_initContainer:function(){this._container=g("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(G.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=aC("shape");c(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",a._path=aC("path"),b.appendChild(a._path),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b),a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;n(b),a.removeInteractiveTarget(b),delete this._layers[h(a)]},_updateStyle:function(c){var b=c._stroke,d=c._fill,a=c.options,e=c._container;e.stroked=!!a.stroke,e.filled=!!a.fill,a.stroke?(b=b||(c._stroke=aC("stroke")),e.appendChild(b),b.weight=a.weight+"px",b.color=a.color,b.opacity=a.opacity,a.dashArray?b.dashStyle=E(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=a.lineCap.replace("butt","flat"),b.joinstyle=a.lineJoin):b&&(e.removeChild(b),c._stroke=null),a.fill?(d=d||(c._fill=aC("fill")),e.appendChild(d),d.color=a.fillColor||a.color,d.opacity=a.fillOpacity):d&&(e.removeChild(d),c._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){az(a._container)},_bringToBack:function(a){av(a._container)}},aG=aN?aC:cY,aq=G.extend({getEvents:function(){var a=G.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=aG("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=aG("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){n(this._container),q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var a,b,c;this._map._animatingZoom&&this._bounds||(G.prototype._update.call(this),a=(c=this._bounds).getSize(),b=this._container,this._svgSize&&this._svgSize.equals(a)||(this._svgSize=a,b.setAttribute("width",a.x),b.setAttribute("height",a.y)),s(b,c.min),b.setAttribute("viewBox",[c.min.x,c.min.y,a.x,a.y].join(" ")),this.fire("update"))},_initPath:function(a){var b=a._path=aG("path");a.options.className&&c(b,a.options.className),a.options.interactive&&c(b,"leaflet-interactive"),this._updateStyle(a),this._layers[h(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){n(a._path),a.removeInteractiveTarget(a._path),delete this._layers[h(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(c){var a=c._path,b=c.options;a&&(b.stroke?(a.setAttribute("stroke",b.color),a.setAttribute("stroke-opacity",b.opacity),a.setAttribute("stroke-width",b.weight),a.setAttribute("stroke-linecap",b.lineCap),a.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?a.setAttribute("stroke-dasharray",b.dashArray):a.removeAttribute("stroke-dasharray"),b.dashOffset?a.setAttribute("stroke-dashoffset",b.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),b.fill?(a.setAttribute("fill",b.fillColor||b.color),a.setAttribute("fill-opacity",b.fillOpacity),a.setAttribute("fill-rule",b.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,cX(a._parts,b))},_updateCircle:function(a){var c=a._point,b=Math.max(Math.round(a._radius),1),d="a"+b+","+(Math.max(Math.round(a._radiusY),1)||b)+" 0 1,0 ",e=a._empty()?"M0 0":"M"+(c.x-b)+","+c.y+d+2*b+",0 "+d+2*-b+",0 ";this._setPath(a,e)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){az(a._path)},_bringToBack:function(a){av(a._path)}});function dw(a){return bc||aN?new aq(a):null}aN&&aq.include(dq),e.include({getRenderer:function(b){var a=(a=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];return void 0===b&&(b=this._createRenderer({pane:a}),this._paneRenderers[a]=b),b},_createRenderer:function(a){return this.options.preferCanvas&&du(a)||dw(a)}}),bl=Y.extend({initialize:function(a,b){Y.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=t(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),aq.create=aG,aq.pointsToPath=cX,H.geometryToLayer=cd,H.coordsToLatLng=ch,H.coordsToLatLngs=bM,H.latLngToCoords=bX,H.latLngsToCoords=bJ,H.getFeature=aw,H.asFeature=bw,e.mergeOptions({boxZoom:!0}),bt=C.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){d(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){n(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),aD(),b$(),this._startPoint=this._map.mouseEventToContainerPoint(a),d(document,{contextmenu:U,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=g("div","leaflet-zoom-box",this._container),c(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var a=new l(this._point,this._startPoint),b=a.getSize();s(this._box,a.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(n(this._box),o(this._container,"leaflet-crosshair")),aO(),ca(),q(document,{contextmenu:U,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){var a;1!==b.which&&1!==b.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(k(this._resetState,this),0),a=new w(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),e.addInitHook("addHandler","boxZoom",bt),e.mergeOptions({doubleClickZoom:!0}),be=C.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,e=b.originalEvent.shiftKey?c-d:c+d;"center"===a.options.doubleClickZoom?a.setZoom(e):a.setZoomAround(b.containerPoint,e)}}),e.addInitHook("addHandler","doubleClickZoom",be),e.mergeOptions({dragging:!0,inertia:!ar,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),bf=C.extend({addHooks:function(){var a;this._draggable||(a=this._map,this._draggable=new aa(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))),c(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){o(this._map._container,"leaflet-grab"),o(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a,b=this._map;b._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(a=t(this._map.options.maxBounds),this._offsetLimit=K(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,b.fire("movestart").fire("dragstart"),b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){var a,c;this._map.options.inertia&&(a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(c),this._times.push(a),this._prunePositions(a)),this._map.fire("move",b).fire("drag",b)},_prunePositions:function(a){for(;1<this._positions.length&&50<a-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){var a,b;this._viscosity&&this._offsetLimit&&(a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit,a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a))},_onPreDragWrap:function(){var c=this._worldWidth,b=Math.round(c/2),a=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+a)%c+b-a,f=(d+b+a)%c-b-a,g=Math.abs(e+a)<Math.abs(f+a)?e:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(l){var b,d,e,g,f,h,i,j,k,a=this._map,c=a.options,m=!c.inertia||this._times.length<2;a.fire("dragend",l),m?a.fire("moveend"):(this._prunePositions(+new Date),h=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,d=c.easeLinearity,e=(j=h.multiplyBy(d/i)).distanceTo([0,0]),g=Math.min(c.inertiaMaxSpeed,e),k=j.multiplyBy(g/e),f=g/(c.inertiaDeceleration*d),(b=k.multiplyBy(-f/2).round()).x||b.y?(b=a._limitOffset(b,a.options.maxBounds),u(function(){a.panBy(b,{duration:f,easeLinearity:d,noMoveStart:!0,animate:!0})})):a.fire("moveend"))}}),e.addInitHook("addHandler","dragging",bf),e.mergeOptions({keyboard:!0,keyboardPanDelta:80}),bg=C.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),d(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var a,b,c,d;this._focused||(a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop,d=a.scrollLeft||b.scrollLeft,this._map._container.focus(),window.scrollTo(d,c))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){for(var e=this._panKeys={},b=this.keyCodes,a=0,c=b.left.length;a<c;a++)e[b.left[a]]=[-1*d,0];for(a=0,c=b.right.length;a<c;a++)e[b.right[a]]=[d,0];for(a=0,c=b.down.length;a<c;a++)e[b.down[a]]=[0,d];for(a=0,c=b.up.length;a<c;a++)e[b.up[a]]=[0,-1*d]},_setZoomDelta:function(d){for(var e=this._zoomKeys={},b=this.keyCodes,a=0,c=b.zoomIn.length;a<c;a++)e[b.zoomIn[a]]=d;for(a=0,c=b.zoomOut.length;a<c;a++)e[b.zoomOut[a]]=-d},_addHooks:function(){d(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){q(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var d,c=b.keyCode,a=this._map;if(c in this._panKeys)a._panAnim&&a._panAnim._inProgress||(d=this._panKeys[c],b.shiftKey&&(d=f(d).multiplyBy(3)),a.panBy(d),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds));else if(c in this._zoomKeys)a.setZoom(a.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!a._popup||!a._popup.options.closeOnEscapeKey)return;a.closePopup()}U(b)}}}),e.addInitHook("addHandler","keyboard",bg),e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),bh=C.extend({addHooks:function(){d(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b,c=c_(a),d=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date),b=Math.max(d-(new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(k(this._performZoom,this),b),U(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0,g,e,f,d;a._stop(),g=this._delta/(4*this._map.options.wheelPxPerZoomLevel),e=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,f=c?Math.ceil(e/c)*c:e,d=a._limitZoom(b+(0<this._delta?f:-f))-b,this._delta=0,this._startTime=null,d&&("center"===a.options.scrollWheelZoom?a.setZoom(b+d):a.setZoomAround(this._lastMousePos,b+d))}}),e.addInitHook("addHandler","scrollWheelZoom",bh),e.mergeOptions({tap:!0,tapTolerance:15}),bi=C.extend({addHooks:function(){d(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(F(e),this._fireClick=!0,1<e.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var a=e.touches[0],f=a.target;this._startPos=this._newPos=new b(a.clientX,a.clientY),f.tagName&&"a"===f.tagName.toLowerCase()&&c(f,"leaflet-active"),this._holdTimeout=setTimeout(k(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1e3),this._simulateEvent("mousedown",a),d(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(b){var a,c;clearTimeout(this._holdTimeout),q(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&b&&b.changedTouches&&((a=(c=b.changedTouches[0]).target)&&a.tagName&&"a"===a.tagName.toLowerCase()&&o(a,"leaflet-active"),this._simulateEvent("mouseup",c),this._isTapValid()&&this._simulateEvent("click",c))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(c){var a=c.touches[0];this._newPos=new b(a.clientX,a.clientY),this._simulateEvent("mousemove",a)},_simulateEvent:function(c,a){var b=document.createEvent("MouseEvents");b._simulated=!0,a.target._simulatedClick=!0,b.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(b)}}),!J||I&&!aI||e.addInitHook("addHandler","tap",bi),e.mergeOptions({touchZoom:J&&!ar,bounceAtZoomLimits:!0}),bj=C.extend({addHooks:function(){c(this._map._container,"leaflet-touch-zoom"),d(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var c,e,a=this._map;!b.touches||2!==b.touches.length||a._animatingZoom||this._zooming||(c=a.mouseEventToContainerPoint(b.touches[0]),e=a.mouseEventToContainerPoint(b.touches[1]),this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(e)._divideBy(2))),this._startDist=c.distanceTo(e),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),d(document,"touchmove",this._onTouchMove,this),d(document,"touchend",this._onTouchEnd,this),F(b))},_onTouchMove:function(b){if(b.touches&&2===b.touches.length&&this._zooming){var d,e,a=this._map,f=a.mouseEventToContainerPoint(b.touches[0]),g=a.mouseEventToContainerPoint(b.touches[1]),c=f.distanceTo(g)/this._startDist;if(this._zoom=a.getScaleZoom(c,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&c<1||this._zoom>a.getMaxZoom()&&1<c)&&(this._zoom=a._limitZoom(this._zoom)),"center"===a.options.touchZoom){if(this._center=this._startLatLng,1==c)return}else{if(d=f._add(g)._divideBy(2)._subtract(this._centerPoint),1==c&&0===d.x&&0===d.y)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),x(this._animRequest),e=k(a._move,a,this._center,this._zoom,{pinch:!0,round:!1}),this._animRequest=u(e,this,!0),F(b)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),e.addInitHook("addHandler","touchZoom",bj),e.BoxZoom=bt,e.DoubleClickZoom=be,e.Drag=bf,e.Keyboard=bg,e.ScrollWheelZoom=bh,e.Tap=bi,e.TouchZoom=bj,a.version="1.7.1",a.Control=B,a.control=aV,a.Browser=dv,a.Evented=ad,a.Mixin=cW,a.Util=cI,a.Class=S,a.Handler=C,a.extend=i,a.bind=k,a.stamp=h,a.setOptions=m,a.DomEvent=cZ,a.DomUtil=ct,a.PosAnimation=cv,a.Draggable=aa,a.LineUtil=cA,a.PolyUtil=cO,a.Point=b,a.point=f,a.Bounds=l,a.bounds=K,a.Transformation=cq,a.transformation=ba,a.Projection=cR,a.LatLng=j,a.latLng=p,a.LatLngBounds=w,a.latLngBounds=t,a.CRS=Q,a.GeoJSON=H,a.geoJSON=dl,a.geoJson=dm,a.Layer=A,a.LayerGroup=ap,a.layerGroup=function(a,b){return new ap(a,b)},a.FeatureGroup=am,a.featureGroup=function(a,b){return new am(a,b)},a.ImageOverlay=aE,a.imageOverlay=function(a,b,c){return new aE(a,b,c)},a.VideoOverlay=cD,a.videoOverlay=function(a,b,c){return new cD(a,b,c)},a.SVGOverlay=cG,a.svgOverlay=function(a,b,c){return new cG(a,b,c)},a.DivOverlay=O,a.Popup=ac,a.popup=function(a,b){return new ac(a,b)},a.Tooltip=$,a.tooltip=function(a,b){return new $(a,b)},a.Icon=af,a.icon=function(a){return new af(a)},a.DivIcon=by,a.divIcon=function(a){return new by(a)},a.Marker=aX,a.marker=function(a,b){return new aX(a,b)},a.TileLayer=_,a.tileLayer=dt,a.GridLayer=ag,a.gridLayer=function(a){return new ag(a)},a.SVG=aq,a.svg=dw,a.Renderer=G,a.Canvas=bn,a.canvas=du,a.Path=R,a.CircleMarker=aM,a.circleMarker=function(a,b){return new aM(a,b)},a.Circle=bN,a.circle=function(a,b,c){return new bN(a,b,c)},a.Polyline=M,a.polyline=function(a,b){return new M(a,b)},a.Polygon=Y,a.polygon=function(a,b){return new Y(a,b)},a.Rectangle=bl,a.rectangle=function(a,b){return new bl(a,b)},a.Map=e,a.map=function(a,b){return new e(a,b)},cK=window.L,a.noConflict=function(){return window.L=cK,this},window.L=a}),window.staticMaps||(window.staticMaps=[]);function loadStaticMap(a,b){var c=a.MAP_LAT?parseFloat(a.MAP_LAT):null,d=a.MAP_LNG?parseFloat(a.MAP_LNG):null;c===null||d===null?fetch(`https://nominatim.openstreetmap.org/search${a.ADDRESS_QUERY}`,{method:"get"}).then(a=>a.json()).then(d=>{if(d.length>0){var c=d[0];c&&drawStaticMap(a,parseFloat(c.lat),parseFloat(c.lon),b)}}).catch(a=>{console.error("error",a)}):drawStaticMap(a,c,d,b)}function drawStaticMap(a,c,d,e){var b=17,f=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:b,minZoom:b,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:e});window.staticMaps[a.MAP_ID]=new L.Map(a.MAP_ID),window.staticMaps[a.MAP_ID].setView(new L.LatLng(c,d),b).addLayer(f),addMarker(window.staticMaps[a.MAP_ID],a,c,d),disableZoomAndDragging(window.staticMaps[a.MAP_ID])}function gotoMap(a){a&&(document.location.href=a)}function addMarker(c,a,d,e){var b,f=a.MAP_LINK_URL,g=L.marker([d,e],{icon:getMapIcon("#9acd32",a.ICON_NAME)}).addTo(c);return f&&(b=document.getElementById(`wrapper_${a.MAP_ID}`),b&&(b.addEventListener("click",function(){gotoMap(a.MAP_LINK_URL)}),b.title=a.MAP_LINK_TITLE,b.style="cursor: pointer;")),g}