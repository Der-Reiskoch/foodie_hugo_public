'use strict';var lazyLoadImages,initMarker,loadAds,hasCookieBannerBeenDisplayed,hasCookieConsentBeenGiven,showAdSlots,activateCookieDependendFunctionality,initCookieHandling,comments;(function(b,f,g){var c=b.querySelector('.menu__btn-title'),a=b.querySelector('.foodie-menu__list');function d(){a.classList.toggle('foodie-menu__list--active'),a.classList.toggle('foodie-menu__list--transition'),this.classList.toggle('foodie-menu__btn--active'),this.setAttribute('aria-expanded',this.getAttribute('aria-expanded')==='true'?'false':'true')}function e(){this.classList.remove('menu__list--transition')}c&&a&&(c.addEventListener('click',d,!1),a.addEventListener('transitionend',e,!1))})(document,window),lazyLoadImages=function(){for(var d=document.getElementsByTagName("img"),b=0,a,c;b<d.length;b++)a=d[b],c=a.getAttribute("data-src"),a.hasAttribute("data-src")&&c!==""&&(a.setAttribute("src",c),a.removeAttribute!==void 0?a.removeAttribute("data-src"):a.setAttribute("data-src",""))},initMarker=function(){var d=document.getElementById("marker"),e,f,b,c,a;d&&(e='https://markiere-den.reisko.ch/',f=window.location.pathname,b=e+'?t='+encodeURI(f),c=document.referrer,c&&(b=b+'&r='+encodeURI(c)),a=document.createElement("img"),a.setAttribute("src",b),a.setAttribute("height","1"),a.setAttribute("width","1"),a.setAttribute("alt","marker"),d.appendChild(a))},window.onload=function(){initMarker(),lazyLoadImages()},window.onscroll=function(){scrollFunction()};function scrollFunction(){var a=document.getElementById("top-nav");document.body.scrollTop>160||document.documentElement.scrollTop>160?a.classList.add("menu-fixed"):a.classList.remove("menu-fixed")}const cookieBannerDisplayedKey="der.reisko.ch.cookieBannerDisplayed",cookieConsentGivenKey="der.reisko.ch.cookieConsentGiven";loadAds=function(b){var a=document.createElement("script");a.type="text/javascript",a.setAttribute("crossorigin","anonymous"),a.setAttribute("async","true"),a.setAttribute("src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"),a.readyState?a.onreadystatechange=function(){var c=/loaded|complete/g;c.test(a.readyState)&&b()}:a.addEventListener("load",b,!1),document.documentElement.firstChild.appendChild(a)},hasCookieBannerBeenDisplayed=function(){return localStorage.getItem(cookieBannerDisplayedKey)&&localStorage.getItem(cookieBannerDisplayedKey)==='true'},hasCookieConsentBeenGiven=function(){return localStorage.getItem(cookieConsentGivenKey)&&localStorage.getItem(cookieConsentGivenKey)==='true'},showAdSlots=function(){var b=document.getElementsByClassName("adslot"),a;for(a=0;a<b.length;a++)b[a].style.display="flex"},activateCookieDependendFunctionality=function(){showAdSlots(),loadAds()},initCookieHandling=function(){if(hasCookieBannerBeenDisplayed())hasCookieConsentBeenGiven()&&activateCookieDependendFunctionality();else{const a=document.getElementById("cookie-container"),b=document.getElementById("cookie-btn-accept"),c=document.getElementById("cookie-btn-decline");b.addEventListener("click",()=>{a.classList.remove("active"),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"true"),activateCookieDependendFunctionality()}),c.addEventListener("click",()=>{a.classList.remove("active"),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"false")}),setTimeout(()=>{a.classList.add("active")},2500)}},window.addEventListener("load",function(a){initCookieHandling()}),comments={get:function(i,h){var g=document.getElementById("sid"),e=document.getElementById("pid"),f='https://kommentiere-den.reisko.ch/',a=new Object,d,b,c;g&&(a.sid=g.value),e&&(a.pid=e.value),d=!0;for(b in a)a.hasOwnProperty(b)&&(f+=(d?'?':'&')+b+"="+a[b]),d=!1;a.hasOwnProperty('sid')&&a.hasOwnProperty('pid')&&(c=new XMLHttpRequest,c.open('GET',f),c.onload=h,c.send())},post:function(c,d){var e='https://kommentiere-den.reisko.ch/',a=new FormData,b;for(let b in c)a.append(b,c[b]);a.append("sid",document.getElementById("sid").value),a.append("pid",document.getElementById("pid").value),b=new XMLHttpRequest,b.open('POST',e),b.onload=d,b.send(a)},load:function(){comments.get({},function(){document.getElementById("cwrap").innerHTML=this.response})},add:function(){return comments.post({name:document.getElementById("cname").value,email:document.getElementById("cmail").value,website:document.getElementById("cwebsite").value,msg:document.getElementById("cmsg").value},function(){this.response&&this.response.trim()==="OK"?(document.getElementById("cadd").reset(),comments.load()):alert('blubb',this.response)}),!1}},comments.load()