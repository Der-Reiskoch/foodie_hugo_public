var idx,searchInput,searchSectionSelect,searchResults=null,documents=[],searchMetaData=JSON.parse(document.getElementById("searchMetaData").textContent),imgBaseUrl=searchMetaData.imgBaseUrl,MAX_RESULTS=20;function getCategoryHtml(e){var t,n,s="";if(e){switch(e.toLowerCase()){case"die":{n="/dies-und-das/",t="Dies und das";break}case"get":{n="/getranke/",t="Getränke";break}case"ins":{n="/insirationen/",t="Inspirationen";break}case"mit":{n="/mittagspause/",t="Mittagspause";break}case"aus":{n="/ausprobiert/",t="Ausprobiert";break}case"rei":{n="/reisen/",t="Reisen";break}case"res":{n="/restaurants/",t="Restaurants";break}case"rez":{n="/rezepte/",t="Rezepte";break}case"ute":{n="/utensilien/",t="Utensilien";break}case"zut":{n="/zutaten/",t="Zutaten";break}default:{n="",t="";break}}n!==""&&t!==""&&(s=`<div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="${n}" rel="category" title="Kategorie ${t}">${t}</a>
                    </span></div>`)}return s}function renderSearchResults(e){var s=JSON.parse(document.getElementById("searchMetaData").textContent),t=searchSectionSelect.value,n=0;e.length>0&&(searchResults.innerHTML="",e.forEach(e=>{var s,i,a,r,o=e.ref;(t==="alle"||o.indexOf("/"+t+"/")>-1)&&n++<=MAX_RESULTS&&(s=documents[e.ref],a=s.category?getCategoryHtml(s.category):"",r=s.category==="Ins"&&(o.indexOf("blogs")>-1||o.indexOf("videos")>-1)?'class="image__flat"':"",i=document.createElement("article"),i.className="list__item post",i.innerHTML=`
                    <figure class="list__thumbnail">
                    <a href="${o}"><img src="/img/lazy-loading.png" data-src="${imgBaseUrl+s.image}" alt="${s.title}" title="${s.title}" ${r} /></a>
                    </figure>
                    <div class="list__content">
                    <header class="list__header">    
                    <h2 class="list__title post__title ">
                    <a href="${o}">${s.title}</a>
                    </h2>
                    <div class="list__meta meta"><div class="meta__item-author meta__item">
                    <svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text"><a class="meta__link" href="/info/ueber-mich/">Jens</a></span>
                    </div>
                    <div class="meta__item-datetime meta__item">
                    <svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
                    <time class="meta__text" datetime="">${s.date!=="01.01.0001"?s.date:"05.01.2021"}</time></div>${a}</div>
                    </header>
                    <div class="content list__excerpt post__content clearfix">${s.summary}</div>
                    </div>
                    `,searchResults.appendChild(i))}),lazyLoadImages!==void 0&&lazyLoadImages()),n===0&&(searchResults.innerHTML='<p class="search__no-results">'+s.noResultsText+"</p>")}function prepareQuery(e){var s,t=e?e.toLowerCase():"",n={"asia shop":"asialäden",asiashop:"asialäden",banoi:"banôi",bittermelone:"bittergurke",bombai:"bombay",broccoli:"brokkoli",burma:"myanmar",coconut:"kokosnuss",currygericht:"curry",enokipilze:"enoki",entensalat:"larb ped","fak thong":"fak tong",faschiertes:"hackfleisch",fingerwurz:"krachai",fischsauce:"fischsoße",fishsauce:"fischsoße",fisolen:"bohnen",fondue:"hotpot","fried rice":"khao pad",gambas:"garnelen",gaprau:"kra pao","ga prau":"kra pao",geang:"gaeng",gäng:"gaeng",gemüsecurry:"curry",grapau:"kra pao","gra pau":"kra pao",gung:"goong","hot pot":"hotpot",huad:"lao pot","hang lay":"hang lea","hung lay":"hang lea",kai:"khai",kanom:"khanom",karlrsruhe:"karlsruhe","ka prao":"kra pao","konjak nudeln":"shirataki",krapao:"kra pao",krapau:"kra pao",krapow:"kra pao",laab:"larb",ladna:"rad na",laphet:"lahpet",larp:"larb",masaman:"massaman",massamann:"massaman",mexico:"mexikanisch","mii ":"mee",muu:"moo","moo krob":"moo grob",namtok:"nam tok",normai:"nor mai",nüa:"nuea",nuae:"nuea",obergin:"aubergin",padthai:"pad thai","pak choy":"pak choi",pakchoy:"pak choi",pakchoi:"pak choi",palabog:"palabok",panang:"panaeng",panäng:"panaeng",paneng:"panaeng","papaya salat":"som tam",phet:"phed",pla:"plaa","plaa muk":"plaa muek","plaa mük":"plaa muek",radna:"rad na","rat na":"rad na",ratna:"rad na",reisnudeln:"nudeln",rheinwok:"rhein wok","rice cake":"tteokbokki",schabu:"shabu",shakshouka:"shakshuka",szechuan:"sichuan",somtam:"som tam",squid:"tintenfisch",teesalat:"lahpet","thai park":"thaiwiese",thaipark:"thaiwiese","tom kah":"tom kha",woonsen:"woon sen","yam nuea sap":"larb nuea",yamwoon:"yam woon",yum:"yam"},o=new RegExp(Object.keys(n).join("|"),"gi");return t=t.replace(o,function(e){return n[e]}),s=t.length<5?"*":"~0.2",t=t+s,t}function getFormValuesFromUrl(){var e,t,n,o,s=window.location.search;s&&URLSearchParams!==void 0&&(e=new URLSearchParams(s),t="",n="",e.has("q")&&(t=e.get("q"),searchInput.value=t),e.has("s")&&(n=e.get("s"),searchSectionSelect.value=n),t&&(o=idx.search(prepareQuery(t)),renderSearchResults(o)))}function registerSearchHandler(){getFormValuesFromUrl(),searchInput.onkeyup=function(){var t,e=searchInput.value;searchSectionSelect.value==="id"?e!==""&&typeof!isNaN(e)&&e.length===4?document.location.href="/suchen/id/?e="+parseInt(e,10):searchResults.innerHTML="Bitte vierstellige ID eingeben (z.B. 0333)":e!==""&&e.length>=3?(t=idx.search(prepareQuery(e)),renderSearchResults(t)):searchResults.innerHTML=""},searchInput.focus(),searchInput.placeholder=""}function initSearch(){searchInput=document.getElementById("search-input"),searchSectionSelect=document.getElementById("search-sections"),searchResults=document.getElementById("search-results"),fetch("/index.json",{method:"get"}).then(e=>e.json()).then(e=>{idx=lunr(function(){this.ref("u"),this.field("t",{boost:20}),this.field("s",{boost:10}),this.field("ts"),e.forEach(function(e){this.add(e),documents[e.u]={title:e.t,summary:e.s,date:e.d,tags:e.t,category:e.c,image:e.i}},this)}),registerSearchHandler()}).catch(e=>{searchResults.innerHTML=`<p>${e}</p>`})}window.addEventListener("load",function(){initSearch()})