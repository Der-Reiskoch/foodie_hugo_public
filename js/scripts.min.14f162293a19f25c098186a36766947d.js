"use strict";(function(e,t){var s=e.querySelector(".menu__btn-title"),n=e.querySelector(".foodie-mobile-menu__list");function o(){n.classList.toggle("foodie-mobile-menu__list--active"),n.classList.toggle("foodie-mobile-menu__list--transition"),this.classList.toggle("foodie-menu__btn--active"),this.setAttribute("aria-expanded",this.getAttribute("aria-expanded")==="true"?"false":"true")}function i(){n.classList.remove("foodie-mobile-menu__list--active"),n.classList.remove("foodie-mobile-menu__list--transition"),s.classList.remove("foodie-menu__btn--active"),s.setAttribute("aria-expanded","false")}function a(){this.classList.remove("foodie-mobile-menu__list--transition")}s&&n&&(s.addEventListener("click",o,!1),n.addEventListener("transitionend",a,!1),t.addEventListener("resize",i,!1))})(document,window);var lazyLoadImage=function(e){e.hasAttribute("data-src")&&e.hasAttribute("data-src")!==""&&(e.src=e.dataset.src,e.removeAttribute("data-src"))},cookieContainer,dataSecurityLink,cookieButtonAccept,cookieButtonDecline,loadGoogleAds,hasCookieBannerBeenDisplayed,hasCookieConsentBeenGiven,showGoogleAdSlots,activateCookieDependendFunctionality,showCookieBanner,hideCookieBanner,initCookieHandling,clearConentCaches,comments,lazyLoadPicture=function(e){var t=e.querySelector("img"),n=e.querySelectorAll("source");n.forEach(e=>{e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")}),lazyLoadImage(t)},lazyLoadImages=function(){for(var e,n,s,o,i=document.querySelectorAll(".js-lazy-img"),t=0;t<i.length;t++)n=i[t],lazyLoadImage(n);!window.IntersectionObserver||(e=function(e,t){e.forEach(e=>{e.isIntersecting&&(lazyLoadPicture(e.target),t.unobserve(e.target))})},s=new IntersectionObserver(e,{rootMargin:"0px 0px 420px 0px"}),document.querySelectorAll(".js-lazy-modern-img").forEach(e=>{s.observe(e)}),o=new IntersectionObserver(e,{rootMargin:"0px 0px 220px 0px"}),document.querySelectorAll(".js-summary-lazy-modern-img").forEach(e=>{o.observe(e)}))},initMarker=function(){var e,t,n,s,o,i=document.getElementById("marker");i&&(s="https://markiere-den.reisko.ch/",o=window.location.pathname,t=s+"?t="+encodeURI(o),n=document.referrer,n&&(t=t+"&r="+encodeURI(n)),e=document.createElement("img"),e.setAttribute("src",t),e.setAttribute("height","1"),e.setAttribute("width","1"),e.setAttribute("alt","marker"),i.appendChild(e))},scrollHandler=function(e){initTopNavScrollHandler(e),initScrollToTopScrollHandler(e)},initTopNavScrollHandler=function(){var e=document.getElementById("menu");document.body.scrollTop>195||document.documentElement.scrollTop>195?e.classList.add("menu-fixed"):e.classList.remove("menu-fixed")},initScrollToTopScrollHandler=function(){var t,e=document.getElementById("js-scroll-to-top");e.addEventListener("click",scrollToTop,!1),t="ontouchstart"in window||navigator.msMaxTouchPoints>0,t||(e.removeAttribute("href"),e.addEventListener("click",e=>{scrollToTop(e)})),document.body.scrollTop>300||document.documentElement.scrollTop>300?e.classList.add("scroll-to-top__visible"):e.classList.remove("scroll-to-top__visible")},scrollToTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},scrollSelectedTimelineItemIntoView=function(e,t,n){var s,o,a,i=document.getElementById(n);i&&(s=i.clientWidth,o=e/t,o>.35&&(a=o<.7?s*o:s+s/2,i.scrollBy({top:0,left:a,behavior:"smooth"})))},initServiceWorker=function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(()=>{console.info("Service Worker Registered")},e=>console.error("Service Worker registration failed: ",e)),navigator.serviceWorker.ready.then(()=>{console.info("Service Worker Ready")}))},initPantryDisclaimer=function(){const e=document.getElementsByClassName("amz-link");var n=e&&e.length>0,t=document.getElementById("js-pantry-disclaimer");n&&t&&t.classList.add("display-block")};window.addEventListener("load",initServiceWorker,!1),window.addEventListener("load",initPantryDisclaimer,!1),window.addEventListener("load",lazyLoadImages,!1),window.addEventListener("load",initMarker,!1),window.addEventListener("scroll",scrollHandler,!1);const cookieBannerDisplayedKey="der.reisko.ch.cookieBannerDisplayed",cookieConsentGivenKey="der.reisko.ch.cookieConsentGiven";cookieContainer=null,dataSecurityLink=null,cookieButtonAccept=null,cookieButtonDecline=null,loadGoogleAds=function(e){var t=document.createElement("script");t.type="text/javascript",t.setAttribute("crossorigin","anonymous"),t.setAttribute("async","true"),t.setAttribute("src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"),t.readyState?t.onreadystatechange=function(){var n=/loaded|complete/g;n.test(t.readyState)&&e()}:t.addEventListener("load",e,!1),document.documentElement.firstChild.appendChild(t)},hasCookieBannerBeenDisplayed=function(){return localStorage.getItem(cookieBannerDisplayedKey)&&localStorage.getItem(cookieBannerDisplayedKey)==="true"},hasCookieConsentBeenGiven=function(){return localStorage.getItem(cookieConsentGivenKey)&&localStorage.getItem(cookieConsentGivenKey)==="true"},showGoogleAdSlots=function(){for(var e,n=document.getElementsByClassName("adslot adslot__google_hidden"),t=0;t<n.length;t++)e=n[t],e.classList.add("adslot__google_visible"),e.classList.remove("adslot__google_hidden")},activateCookieDependendFunctionality=function(){showGoogleAdSlots(),loadGoogleAds()},showCookieBanner=function(){cookieContainer.classList.add("active"),dataSecurityLink.setAttribute("tabindex",1),cookieButtonDecline.setAttribute("tabindex",2),cookieButtonAccept.setAttribute("tabindex",3)},hideCookieBanner=function(){cookieContainer.classList.remove("active"),dataSecurityLink.setAttribute("tabindex",-1),cookieButtonDecline.setAttribute("tabindex",-1),cookieButtonAccept.setAttribute("tabindex",-1)},initCookieHandling=function(){cookieContainer=document.getElementById("cookie-container"),dataSecurityLink=document.getElementById("link-data-security"),cookieButtonAccept=document.getElementById("cookie-btn-accept"),cookieButtonDecline=document.getElementById("cookie-btn-decline"),hasCookieBannerBeenDisplayed()?hasCookieConsentBeenGiven()&&activateCookieDependendFunctionality():(cookieButtonAccept.addEventListener("click",()=>{hideCookieBanner(),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"true"),activateCookieDependendFunctionality()}),cookieButtonDecline.addEventListener("click",()=>{hideCookieBanner(),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"false")}),setTimeout(()=>{showCookieBanner()},2500))},window.addEventListener("load",function(){initCookieHandling()}),clearConentCaches=function(){var e=["content"];caches.keys().then(t=>Promise.all(t.map(t=>{if(!e.includes(t))return caches.delete(t)})))},comments={get:function(e,t){var s,o,i,a=document.getElementById("sid"),r=document.getElementById("pid"),c="https://kommentiere-den.reisko.ch/",n=new Object;a&&(n.sid=a.value),r&&(n.pid=r.value),i=!0;for(o in n)n.hasOwnProperty(o)&&(c+=(i?"?":"&")+o+"="+n[o]),i=!1;n.hasOwnProperty("sid")&&n.hasOwnProperty("pid")&&(s=new XMLHttpRequest,s.open("GET",c),s.onload=t,s.send())},post:function(e,t){var n,o="https://kommentiere-den.reisko.ch/",s=new FormData;for(let t in e)s.append(t,e[t]);s.append("sid",document.getElementById("sid").value),s.append("pid",document.getElementById("pid").value),n=new XMLHttpRequest,n.open("POST",o),n.onload=t,n.send(s),clearConentCaches()},load:function(){clearConentCaches(),comments.get({},function(){document.getElementById("cwrap").innerHTML=this.response})},add:function(){return comments.post({name:document.getElementById("cname").value,email:document.getElementById("cmail").value,website:document.getElementById("cwebsite").value,msg:document.getElementById("cmsg").value},function(){this.response&&this.response.trim()==="OK"?(document.getElementById("cadd").reset(),comments.load()):alert("blubb",this.response)}),!1}},window.addEventListener("load",function(){comments.load(),setInterval(function(){comments.load()},3e4)})