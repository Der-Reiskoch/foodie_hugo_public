'use strict';var lazyLoadImages,initMarker,scrollHandler,initTopNavScrollHandler,initScrollToTopScrollHandler,scrollToTop,scrollSelectedTimelineItemIntoView,initServiceWorker,initPantryDisclaimer,loadAds,hasCookieBannerBeenDisplayed,hasCookieConsentBeenGiven,showAdSlots,activateCookieDependendFunctionality,initCookieHandling,comments;(function(t){var n=t.querySelector(".menu__btn-title"),e=t.querySelector(".foodie-menu__list");function s(){e.classList.toggle("foodie-menu__list--active"),e.classList.toggle("foodie-menu__list--transition"),this.classList.toggle("foodie-menu__btn--active"),this.setAttribute("aria-expanded",this.getAttribute("aria-expanded")==="true"?"false":"true")}function o(){this.classList.remove("menu__list--transition")}n&&e&&(n.addEventListener("click",s,!1),e.addEventListener("transitionend",o,!1))})(document,window),lazyLoadImages=function(){for(var s=document.getElementsByTagName("img"),t=0,e,n;t<s.length;t++)e=s[t],n=e.getAttribute("data-src"),e.hasAttribute("data-src")&&n!==''&&(e.setAttribute("src",n),e.removeAttribute!==void 0?e.removeAttribute("data-src"):e.setAttribute("data-src",''))},initMarker=function(){var s=document.getElementById("marker"),o,i,t,n,e;s&&(o="https://markiere-den.reisko.ch/",i=window.location.pathname,t=o+"?t="+encodeURI(i),n=document.referrer,n&&(t=t+"&r="+encodeURI(n)),e=document.createElement("img"),e.setAttribute("src",t),e.setAttribute("height","1"),e.setAttribute("width","1"),e.setAttribute("alt","marker"),s.appendChild(e))},scrollHandler=function(e){initTopNavScrollHandler(e),initScrollToTopScrollHandler(e)},initTopNavScrollHandler=function(){var e=document.getElementById("top-nav");document.body.scrollTop>195||document.documentElement.scrollTop>195?e.classList.add("menu-fixed"):e.classList.remove("menu-fixed")},initScrollToTopScrollHandler=function(){var e=document.getElementById("js-scroll-to-top"),t;e.addEventListener("click",scrollToTop,!1),t="ontouchstart"in window||navigator.msMaxTouchPoints>0,t||(e.removeAttribute("href"),e.addEventListener("click",e=>{scrollToTop(e)})),document.body.scrollTop>300||document.documentElement.scrollTop>300?e.classList.add("scroll-to-top__visible"):e.classList.remove("scroll-to-top__visible")},scrollToTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},scrollSelectedTimelineItemIntoView=function(a,o,i){var n=document.getElementById(i),e,t,s;n&&(e=n.clientWidth,t=a/o,t>.35&&(s=t<.7?e*t:e+e/2,n.scrollBy({top:0,left:s,behavior:"smooth"})))},initServiceWorker=function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(()=>{console.info("Service Worker Registered")},e=>console.error("Service Worker registration failed: ",e)),navigator.serviceWorker.ready.then(()=>{console.info("Service Worker Ready")}))},initPantryDisclaimer=function(){var t,e;const n=document.getElementsByClassName("amz-link");t=n&&n.length>0,e=document.getElementById("js-pantry-disclaimer"),t&&e&&e.classList.add("display-block")},window.addEventListener("load",initServiceWorker,!1),window.addEventListener("load",initPantryDisclaimer,!1),window.addEventListener("load",lazyLoadImages,!1),window.addEventListener("load",initMarker,!1),window.addEventListener("scroll",scrollHandler,!1);const cookieBannerDisplayedKey="der.reisko.ch.cookieBannerDisplayed",cookieConsentGivenKey="der.reisko.ch.cookieConsentGiven";loadAds=function(t){var e=document.createElement("script");e.type="text/javascript",e.setAttribute("crossorigin","anonymous"),e.setAttribute("async","true"),e.setAttribute("src","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"),e.readyState?e.onreadystatechange=function(){var n=/loaded|complete/g;n.test(e.readyState)&&t()}:e.addEventListener("load",t,!1),document.documentElement.firstChild.appendChild(e)},hasCookieBannerBeenDisplayed=function(){return localStorage.getItem(cookieBannerDisplayedKey)&&localStorage.getItem(cookieBannerDisplayedKey)==="true"},hasCookieConsentBeenGiven=function(){return localStorage.getItem(cookieConsentGivenKey)&&localStorage.getItem(cookieConsentGivenKey)==="true"},showAdSlots=function(){var n=document.getElementById("widget-ads"),t,e;n&&(n.style.display="block"),t=document.getElementsByClassName("adslot");for(e=0;e<t.length;e++)t[e].style.display="flex"},activateCookieDependendFunctionality=function(){showAdSlots(),loadAds()},initCookieHandling=function(){if(hasCookieBannerBeenDisplayed())hasCookieConsentBeenGiven()&&activateCookieDependendFunctionality();else{const e=document.getElementById("cookie-container"),t=document.getElementById("cookie-btn-accept"),n=document.getElementById("cookie-btn-decline");t.addEventListener("click",()=>{e.classList.remove("active"),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"true"),activateCookieDependendFunctionality()}),n.addEventListener("click",()=>{e.classList.remove("active"),localStorage.setItem(cookieBannerDisplayedKey,"true"),localStorage.setItem(cookieConsentGivenKey,"false")}),setTimeout(()=>{e.classList.add("active")},2500)}},window.addEventListener("load",function(){initCookieHandling()}),comments={get:function(c,r){var a=document.getElementById("sid"),o=document.getElementById("pid"),i="https://kommentiere-den.reisko.ch/",e=new Object,s,t,n;a&&(e.sid=a.value),o&&(e.pid=o.value),s=!0;for(t in e)e.hasOwnProperty(t)&&(i+=(s?"?":"&")+t+"="+e[t]),s=!1;e.hasOwnProperty("sid")&&e.hasOwnProperty("pid")&&(n=new XMLHttpRequest,n.open("GET",i),n.onload=r,n.send())},post:function(n,s){var o="https://kommentiere-den.reisko.ch/",e=new FormData,t;for(let t in n)e.append(t,n[t]);e.append("sid",document.getElementById("sid").value),e.append("pid",document.getElementById("pid").value),t=new XMLHttpRequest,t.open("POST",o),t.onload=s,t.send(e)},load:function(){comments.get({},function(){document.getElementById("cwrap").innerHTML=this.response})},add:function(){return comments.post({name:document.getElementById("cname").value,email:document.getElementById("cmail").value,website:document.getElementById("cwebsite").value,msg:document.getElementById("cmsg").value},function(){this.response&&this.response.trim()==="OK"?(document.getElementById("cadd").reset(),comments.load()):alert("blubb",this.response)}),!1}},comments.load()