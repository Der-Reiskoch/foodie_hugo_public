'use strict';(function iifeMenu(document,window,undefined){var menuBtn=document.querySelector('.menu__btn-title');var menu=document.querySelector('.foodie-menu__list');function toggleMenu(){menu.classList.toggle('foodie-menu__list--active');menu.classList.toggle('foodie-menu__list--transition');this.classList.toggle('foodie-menu__btn--active');this.setAttribute('aria-expanded',this.getAttribute('aria-expanded')==='true'?'false':'true');}
function removeMenuTransition(){this.classList.remove('menu__list--transition');}
if(menuBtn&&menu){menuBtn.addEventListener('click',toggleMenu,false);menu.addEventListener('transitionend',removeMenuTransition,false);}}(document,window));;const cookieContainer=document.getElementById("cookie-container");const cookieButton=document.getElementById("cookie-btn");cookieButton.addEventListener("click",()=>{cookieContainer.classList.remove("active");localStorage.setItem("foodie.yamwoonsen.de.cookieBannerDisplayed","true");});setTimeout(()=>{if(!localStorage.getItem("foodie.yamwoonsen.de.cookieBannerDisplayed")){cookieContainer.classList.add("active");}},2000);function lazyLoadImages(){var images=document.getElementsByTagName("img");for(var ii=0;ii<images.length;ii++){var img=images[ii];var dataSource=img.getAttribute("data-src");if(img.hasAttribute("data-src")&&dataSource!==""){img.setAttribute("src",dataSource);if(img.removeAttribute!==undefined){img.removeAttribute("data-src");}else{img.setAttribute("data-src","");}}}}
window.onload=function(){lazyLoadImages();}
window.onscroll=function(){scrollFunction()};function scrollFunction(){var topNav=document.getElementById("top-nav");if(document.body.scrollTop>160||document.documentElement.scrollTop>160){topNav.classList.add("menu-fixed");}else{topNav.classList.remove("menu-fixed");}};var comments={get:function(data,after){var sidContainer=document.getElementById("sid");var pidContainer=document.getElementById("pid");var url='https://der.reisko.ch/__c__/';var params=new Object();if(sidContainer){params["sid"]=sidContainer.value;}
if(pidContainer){params["pid"]=pidContainer.value;}
var isFirstParam=true;for(var key in params){if(params.hasOwnProperty(key)){url+=(isFirstParam?'?':'&')+key+"="+params[key];}
isFirstParam=false;}
if(params.hasOwnProperty('sid')&&params.hasOwnProperty('pid')){console.log(url)
var xhr=new XMLHttpRequest();xhr.open('GET',url);xhr.onload=after;xhr.send();}},post:function(data,after){var fdata=new FormData();for(let k in data){fdata.append(k,data[k]);}
fdata.append("sid",document.getElementById("sid").value);fdata.append("pid",document.getElementById("pid").value);var xhr=new XMLHttpRequest();xhr.open('POST',"https://der.reisko.ch/__c__/");xhr.onload=after;xhr.send(fdata);},load:function(){comments.get({},function(){document.getElementById("cwrap").innerHTML=this.response;});},add:function(){comments.post({name:document.getElementById("cname").value,email:document.getElementById("cmail").value,website:document.getElementById("cwebsite").value,msg:document.getElementById("cmsg").value},function(){console.log(this.response);if(this.response&&this.response.trim()==="OK"){document.getElementById("cadd").reset();comments.load();}else{alert(this.response);}});return false;}};comments.load();