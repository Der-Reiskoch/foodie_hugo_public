(()=>{var l="",M=(t,e,i)=>{t&&t.addEventListener("khao-select-field-change",o=>{let n=o.detail.value;n!=e?l=n:l="",i()})},g=M;var r="",A=(t,e,i)=>{t&&t.addEventListener("khao-select-field-change",o=>{let n=o.detail.value;n!=e?r=n:r="",i()})},O=A;var S=(t,e,i)=>{let o={value:e,label:i};t.push(o)},L=S;var y=(t,e)=>{let i="";return t.includes(e)?t.split(e).forEach((n,a)=>{let c=a>0?e:"";i+=c+y(n,e)}):i=t.charAt(0).toUpperCase()+t.slice(1),i},d=y;var B=t=>{let e=t;return e=d(e," "),e=d(e,"-"),e=e.replace(" Am "," am "),e=e.replace(" Bei "," bei "),e=e.replace(" Ob Der "," ob der "),e.trim(),e},F=B;var T=(t,e,i)=>{let o="";for(let n=0;n<t.length;n++)i?t[n].label===e&&(o=t[n].value):t[n].label.toLowerCase()===e.toLowerCase()&&(o=t[n].value);return o},E=T;var H=(t,e)=>{let i=[];for(let o=0;o<t.length;o++){let n=t[o].value;e.includes(n)&&i.push(t[o])}return i},v=H;var m="-1",s,p,f=[],u=[],h,b=()=>{h.forEach(t=>{let e=t.getAttribute("data-month"),i=t.getAttribute("data-city");r&&l?e===r&&i===l?t.classList.remove("calendar-item--no-match"):t.classList.add("calendar-item--no-match"):r||l?e===r||i===l?t.classList.remove("calendar-item--no-match"):t.classList.add("calendar-item--no-match"):t.classList.remove("calendar-item--no-match")})},C=()=>{console.log("initCalendarFilter");let t=JSON.parse(document.getElementById("js-filter-month-values").textContent),e=JSON.parse(document.getElementById("js-filter-city-values").textContent);console.log("defaultMonthOptions:",t);let i=[],o=[];h=document.querySelectorAll(".calendar-item"),h.forEach(n=>{let a=n.getAttribute("data-month");i.includes(a)||i.push(a);let c=n.getAttribute("data-city");o.includes(c)||o.push(c)}),i.push(m),f=v(t,i),u=e,o.sort().forEach(n=>{L(u,n,F(n))}),s=document.getElementById("js-select-month"),s.setAttribute("options",JSON.stringify(f)),p=document.getElementById("js-select-city"),p.setAttribute("options",JSON.stringify(u)),O(s,m,b),g(p,m,b)},x=()=>{if(window.location.hash){let t=window.location.hash.replace("#","");if(t){let e=E(f,t,!1);e&&(s=document.getElementById("js-select-month"),s.setAttribute("selectedValue",e))}}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded"),C(),x()}):(C(),x());})();
