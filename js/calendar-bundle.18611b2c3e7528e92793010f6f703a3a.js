(()=>{var l="",C=(t,e,i)=>{t&&t.addEventListener("khao-select-field-change",o=>{let n=o.detail.value;n!=e?l=n:l="",i()})},g=C;var r="",x=(t,e,i)=>{t&&t.addEventListener("khao-select-field-change",o=>{let n=o.detail.value;n!=e?r=n:r="",i()})},O=x;var A=(t,e,i)=>{let o={value:e,label:i};t.push(o)},F=A;var L=(t,e)=>{let i="";return t.includes(e)?t.split(e).forEach((n,a)=>{let c=a>0?e:"";i+=c+L(n,e)}):i=t.charAt(0).toUpperCase()+t.slice(1),i},m=L;var M=t=>{let e=t;return e=m(e," "),e=m(e,"-"),e=e.replace(" Am "," am "),e=e.replace(" Bei "," bei "),e=e.replace(" Ob Der "," ob der "),e.trim(),e},y=M;var B=(t,e,i)=>{let o="";for(let n=0;n<t.length;n++)i?t[n].label===e&&(o=t[n].value):t[n].label.toLowerCase()===e.toLowerCase()&&(o=t[n].value);return o},E=B;var S=(t,e)=>{let i=[];for(let o=0;o<t.length;o++){let n=t[o].value;e.includes(n)&&i.push(t[o])}return i},v=S;var d="-1",s,p,f=[],u=[],h,b=()=>{h.forEach(t=>{let e=t.getAttribute("data-month"),i=t.getAttribute("data-city");r&&l?e===r&&i===l?t.classList.remove("calendar-item--no-match"):t.classList.add("calendar-item--no-match"):r||l?e===r||i===l?t.classList.remove("calendar-item--no-match"):t.classList.add("calendar-item--no-match"):t.classList.remove("calendar-item--no-match")})},T=()=>{console.log("initCalendarFilter");let t=JSON.parse(document.getElementById("js-filter-month-values").textContent),e=JSON.parse(document.getElementById("js-filter-city-values").textContent),i=[],o=[];h=document.querySelectorAll(".calendar-item"),h.forEach(n=>{let a=n.getAttribute("data-month");i.includes(a)||i.push(a);let c=n.getAttribute("data-city");o.includes(c)||o.push(c)}),i.push(d),f=v(t,i),u=e,o.sort().forEach(n=>{F(u,n,y(n))}),s=document.getElementById("js-select-month"),s.setAttribute("options",JSON.stringify(f)),p=document.getElementById("js-select-city"),p.setAttribute("options",JSON.stringify(u)),O(s,d,b),g(p,d,b)},H=()=>{if(window.location.hash){let t=window.location.hash.replace("#","");if(t){let e=E(f,t,!1);e&&(s=document.getElementById("js-select-month"),s.setAttribute("selectedValue",e))}}};document.addEventListener("DOMContentLoaded",()=>{T(),H()});})();
