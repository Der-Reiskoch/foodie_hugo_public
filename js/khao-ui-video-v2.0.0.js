import{c as L,S as M,i as N,f as g,s as U,a as H,e as b,b as z,t as x,d as f,G as y,j as S,k as p,u as _,v as I,w as J,m as A,o as T,E as K,A as F,B as q,l as O,C as D,h as P,D as Q,F as R}from"./svelte-chunk-vhzq62JZ.js";import{I as W}from"./khao-ui-image-v2.0.0.js";import{I as X}from"./khao-ui-icon-v2.0.0.js";function Y(o){H(o,"svelte-ne2o5l",`:host{--khao-video-consent-color:var(--khao-sys-color-neutral80);--khao-video-consent-background:var(--khao-sys-static-color-black);--khao-video-consent-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-color:var(--khao-sys-color-neutral30);--khao-video-caption-font-size:var(--khao-sys-size-typography-2);--khao-video-caption-line-height:var(--khao-sys-size-typography-3);--khao-video-caption-font-style:italic;--khao-video-caption-spacing:var(--khao-sys-size-regular-1)}.video-wrapper.svelte-ne2o5l{max-width:var(--khao-video-width);max-height:var(--khao-video-height)}.preview-wrapper.svelte-ne2o5l{position:relative;display:block;background-color:var(--khao-sys-static-color-black)}.preview-wrapper.svelte-ne2o5l:focus-visible{outline:var(--khao-sys-size-regular-1) solid var(--khao-sys-color-tertiary);outline-offset:var(--khao-sys-size-regular-5);border-radius:var(--khao-sys-shape-corner-medium)}.preview-icon.svelte-ne2o5l{position:absolute;color:var(--khao-sys-static-color-white);top:50%;left:50%;opacity:0.9;margin:calc(var(--khao-sys-size-regular-10) * -1) 0 0
      calc(var(--khao-sys-size-regular-10) * -1);width:var(--khao-sys-size-regular-18);height:var(--khao-sys-size-regular-18)}.consent-text.svelte-ne2o5l{position:absolute;bottom:0;left:0;padding:var(--khao-sys-size-regular-4);background:var(--khao-video-consent-background);color:var(--khao-video-consent-color);font-size:var(--khao-video-consent-font-size);line-height:var(--khao-video-caption-line-height);text-align:center}.video-wrapper.svelte-ne2o5l{display:block;margin:0 auto}.video-frame.svelte-ne2o5l{margin:0;width:100%;height:auto;aspect-ratio:4/3}.caption.svelte-ne2o5l{padding-top:var(--khao-video-caption-spacing);text-align:center;font-size:var(--khao-video-caption-font-size);line-height:var(--khao-video-caption-line-height);font-style:var(--khao-video-caption-font-style);color:var(--khao-video-caption-color)}`)}function V(o){let e,t,h,r,v,u,a,s,n,c,m,w;return t=new W({props:{src:o[5],title:o[2],width:o[6],height:o[7],webp:"true",lazyLoading:"true"}}),s=new X({props:{iconName:"youtube",sizeFactor:"20"}}),{c(){e=b("a"),F(t.$$.fragment),h=z(),r=b("div"),v=x(o[4]),u=z(),a=b("div"),F(s.$$.fragment),f(r,"class","consent-text svelte-ne2o5l"),f(a,"class","preview-icon svelte-ne2o5l"),f(e,"class","preview-wrapper svelte-ne2o5l"),f(e,"href",n=o[0]==="youtube"?`https://youtu.be/${o[1]}`:""),f(e,"target","_blank")},m(l,d){S(l,e,d),q(t,e,null),p(e,h),p(e,r),p(r,v),p(e,u),p(e,a),q(s,a,null),c=!0,m||(w=O(e,"click",o[12]),m=!0)},p(l,d){const k={};d&32&&(k.src=l[5]),d&4&&(k.title=l[2]),d&64&&(k.width=l[6]),d&128&&(k.height=l[7]),t.$set(k),(!c||d&16)&&A(v,l[4]),(!c||d&3&&n!==(n=l[0]==="youtube"?`https://youtu.be/${l[1]}`:""))&&f(e,"href",n)},i(l){c||(_(t.$$.fragment,l),_(s.$$.fragment,l),c=!0)},o(l){I(t.$$.fragment,l),I(s.$$.fragment,l),c=!1},d(l){l&&T(e),D(t),D(s),m=!1,w()}}}function j(o){let e,t;return{c(){e=b("iframe"),f(e,"class","video-frame svelte-ne2o5l"),y(e,"max-width",o[6]+"px"),f(e,"title",o[2]),P(e.src,t=o[11])||f(e,"src",t),f(e,"frameborder","0"),f(e,"allow",`accelerometer; autoplay; 
encrypted-media; gyroscope; picture-in-picture`),e.allowFullscreen=!0},m(h,r){S(h,e,r)},p(h,r){r&64&&y(e,"max-width",h[6]+"px"),r&4&&f(e,"title",h[2]),r&2048&&!P(e.src,t=h[11])&&f(e,"src",t)},d(h){h&&T(e)}}}function Z(o){let e,t,h,r,v,u,a=o[8]&&V(o),s=o[9]&&j(o);return{c(){e=b("div"),a&&a.c(),t=z(),s&&s.c(),h=z(),r=b("div"),v=x(o[3]),f(r,"class","caption svelte-ne2o5l"),f(e,"class","video-wrapper svelte-ne2o5l"),y(e,"--khao-video-width",o[6]+"px"),y(e,"--khao-video-height",o[7]+"px")},m(n,c){S(n,e,c),a&&a.m(e,null),p(e,t),s&&s.m(e,null),p(e,h),p(e,r),p(r,v),o[16](r),u=!0},p(n,[c]){n[8]?a?(a.p(n,c),c&256&&_(a,1)):(a=V(n),a.c(),_(a,1),a.m(e,t)):a&&(Q(),I(a,1,1,()=>{a=null}),J()),n[9]?s?s.p(n,c):(s=j(n),s.c(),s.m(e,h)):s&&(s.d(1),s=null),(!u||c&8)&&A(v,n[3]),(!u||c&64)&&y(e,"--khao-video-width",n[6]+"px"),(!u||c&128)&&y(e,"--khao-video-height",n[7]+"px")},i(n){u||(_(a),u=!0)},o(n){I(a),u=!1},d(n){n&&T(e),a&&a.d(),s&&s.d(),o[16](null)}}}function $(o,e,t){let h=!1,r=!1,v;K(()=>{w==="true"?t(8,h=!0):t(9,r=!0)});let{type:u="youtube"}=e,{videoId:a=""}=e,{autoplay:s="false"}=e,{start:n=""}=e,{title:c=""}=e,{caption:m=""}=e,{awaitsConsent:w="false"}=e,{consentText:l=""}=e,{previewSrc:d=""}=e,{width:k="600"}=e,{height:E="450"}=e,C=u==="youtube"?`https://www.youtube-nocookie.com/embed/${a}?modestbranding=1`:"";u==="youtube"&&s==="true"&&(C+="&autoplay=1"),u==="youtube"&&n!==""&&(C+=`&start=${n}`);function B(i){i.stopPropagation(),i.preventDefault(),t(8,h=!1),t(9,r=!0)}function G(i){R[i?"unshift":"push"](()=>{v=i,t(10,v)})}return o.$$set=i=>{"type"in i&&t(0,u=i.type),"videoId"in i&&t(1,a=i.videoId),"autoplay"in i&&t(13,s=i.autoplay),"start"in i&&t(14,n=i.start),"title"in i&&t(2,c=i.title),"caption"in i&&t(3,m=i.caption),"awaitsConsent"in i&&t(15,w=i.awaitsConsent),"consentText"in i&&t(4,l=i.consentText),"previewSrc"in i&&t(5,d=i.previewSrc),"width"in i&&t(6,k=i.width),"height"in i&&t(7,E=i.height)},[u,a,c,m,l,d,k,E,h,r,v,C,B,s,n,w,G]}class ee extends M{constructor(e){super(),N(this,e,$,Z,U,{type:0,videoId:1,autoplay:13,start:14,title:2,caption:3,awaitsConsent:15,consentText:4,previewSrc:5,width:6,height:7},Y)}get type(){return this.$$.ctx[0]}set type(e){this.$$set({type:e}),g()}get videoId(){return this.$$.ctx[1]}set videoId(e){this.$$set({videoId:e}),g()}get autoplay(){return this.$$.ctx[13]}set autoplay(e){this.$$set({autoplay:e}),g()}get start(){return this.$$.ctx[14]}set start(e){this.$$set({start:e}),g()}get title(){return this.$$.ctx[2]}set title(e){this.$$set({title:e}),g()}get caption(){return this.$$.ctx[3]}set caption(e){this.$$set({caption:e}),g()}get awaitsConsent(){return this.$$.ctx[15]}set awaitsConsent(e){this.$$set({awaitsConsent:e}),g()}get consentText(){return this.$$.ctx[4]}set consentText(e){this.$$set({consentText:e}),g()}get previewSrc(){return this.$$.ctx[5]}set previewSrc(e){this.$$set({previewSrc:e}),g()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),g()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),g()}}customElements.define("khao-video",L(ee,{type:{},videoId:{},autoplay:{},start:{},title:{},caption:{},awaitsConsent:{},consentText:{},previewSrc:{},width:{},height:{}},[],[],!0));
