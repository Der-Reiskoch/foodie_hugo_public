import{c as L,S as M,i as N,f as g,s as U,a as H,e as b,b as z,t as x,d as f,G as y,j as S,k,u as _,v as I,w as J,m as A,o as T,E as K,A as F,B as q,l as O,C as D,h as P,D as Q,F as R}from"./svelte-chunk-vhzq62JZ.js";import{I as W}from"./khao-ui-image-v1.9.3.js";import{I as X}from"./khao-ui-icon-v1.9.3.js";function Y(a){H(a,"svelte-b6km0c",`:host{--khao-video-consent-color:var(--khao-sys-color-neutral80);--khao-video-consent-background:var(--khao-sys-static-color-black);--khao-video-consent-font-size:var(--khao-sys-size-typography-6);--khao-video-caption-line-height:var(--khao-sys-size-typography-8);--khao-video-caption-color:var(--khao-sys-color-neutral30);--khao-video-caption-font-size:var(--khao-sys-size-typography-6);--khao-video-caption-line-height:var(--khao-sys-size-typography-7);--khao-video-caption-font-style:italic;--khao-video-caption-spacing:var(--khao-sys-size-regular-1)}.video-wrapper.svelte-b6km0c{max-width:var(--khao-video-width);max-height:var(--khao-video-height)}.preview-wrapper.svelte-b6km0c{position:relative;display:block;background-color:var(--khao-sys-static-color-black)}.preview-wrapper.svelte-b6km0c:focus-visible{outline:var(--khao-sys-size-regular-1) solid var(--khao-sys-color-tertiary);outline-offset:var(--khao-sys-size-regular-5);border-radius:var(--khao-sys-shape-corner-medium)}.preview-icon.svelte-b6km0c{position:absolute;color:var(--khao-sys-static-color-white);top:50%;left:50%;opacity:0.9;margin:calc(var(--khao-sys-size-regular-10) * -1) 0 0
      calc(var(--khao-sys-size-regular-10) * -1);width:var(--khao-sys-size-regular-18);height:var(--khao-sys-size-regular-18)}.consent-text.svelte-b6km0c{position:absolute;bottom:0;left:0;padding:var(--khao-sys-size-regular-4);background:var(--khao-video-consent-background);color:var(--khao-video-consent-color);font-size:var(--khao-video-consent-font-size);line-height:var(--khao-video-caption-line-height);text-align:center}.video-wrapper.svelte-b6km0c{display:block;margin:0 auto}.video-frame.svelte-b6km0c{margin:0;width:100%;height:auto;aspect-ratio:4/3}.caption.svelte-b6km0c{padding-top:var(--khao-video-caption-spacing);text-align:center;font-size:var(--khao-video-caption-font-size);line-height:var(--khao-video-caption-line-height);font-style:var(--khao-video-caption-font-style);color:var(--khao-video-caption-color)}`)}function V(a){let e,t,c,r,v,u,o,s,n,h,p,w;return t=new W({props:{src:a[5],title:a[2],width:a[6],height:a[7],webp:"true",lazyLoading:"true"}}),s=new X({props:{iconName:"youtube",sizeFactor:"20"}}),{c(){e=b("a"),F(t.$$.fragment),c=z(),r=b("div"),v=x(a[4]),u=z(),o=b("div"),F(s.$$.fragment),f(r,"class","consent-text svelte-b6km0c"),f(o,"class","preview-icon svelte-b6km0c"),f(e,"class","preview-wrapper svelte-b6km0c"),f(e,"href",n=a[0]==="youtube"?`https://youtu.be/${a[1]}`:""),f(e,"target","_blank")},m(l,d){S(l,e,d),q(t,e,null),k(e,c),k(e,r),k(r,v),k(e,u),k(e,o),q(s,o,null),h=!0,p||(w=O(e,"click",a[12]),p=!0)},p(l,d){const m={};d&32&&(m.src=l[5]),d&4&&(m.title=l[2]),d&64&&(m.width=l[6]),d&128&&(m.height=l[7]),t.$set(m),(!h||d&16)&&A(v,l[4]),(!h||d&3&&n!==(n=l[0]==="youtube"?`https://youtu.be/${l[1]}`:""))&&f(e,"href",n)},i(l){h||(_(t.$$.fragment,l),_(s.$$.fragment,l),h=!0)},o(l){I(t.$$.fragment,l),I(s.$$.fragment,l),h=!1},d(l){l&&T(e),D(t),D(s),p=!1,w()}}}function j(a){let e,t;return{c(){e=b("iframe"),f(e,"class","video-frame svelte-b6km0c"),y(e,"max-width",a[6]+"px"),f(e,"title",a[2]),P(e.src,t=a[11])||f(e,"src",t),f(e,"frameborder","0"),f(e,"allow",`accelerometer; autoplay; 
encrypted-media; gyroscope; picture-in-picture`),e.allowFullscreen=!0},m(c,r){S(c,e,r)},p(c,r){r&64&&y(e,"max-width",c[6]+"px"),r&4&&f(e,"title",c[2]),r&2048&&!P(e.src,t=c[11])&&f(e,"src",t)},d(c){c&&T(e)}}}function Z(a){let e,t,c,r,v,u,o=a[8]&&V(a),s=a[9]&&j(a);return{c(){e=b("div"),o&&o.c(),t=z(),s&&s.c(),c=z(),r=b("div"),v=x(a[3]),f(r,"class","caption svelte-b6km0c"),f(e,"class","video-wrapper svelte-b6km0c"),y(e,"--khao-video-width",a[6]+"px"),y(e,"--khao-video-height",a[7]+"px")},m(n,h){S(n,e,h),o&&o.m(e,null),k(e,t),s&&s.m(e,null),k(e,c),k(e,r),k(r,v),a[16](r),u=!0},p(n,[h]){n[8]?o?(o.p(n,h),h&256&&_(o,1)):(o=V(n),o.c(),_(o,1),o.m(e,t)):o&&(Q(),I(o,1,1,()=>{o=null}),J()),n[9]?s?s.p(n,h):(s=j(n),s.c(),s.m(e,c)):s&&(s.d(1),s=null),(!u||h&8)&&A(v,n[3]),(!u||h&64)&&y(e,"--khao-video-width",n[6]+"px"),(!u||h&128)&&y(e,"--khao-video-height",n[7]+"px")},i(n){u||(_(o),u=!0)},o(n){I(o),u=!1},d(n){n&&T(e),o&&o.d(),s&&s.d(),a[16](null)}}}function $(a,e,t){let c=!1,r=!1,v;K(()=>{w==="true"?t(8,c=!0):t(9,r=!0)});let{type:u="youtube"}=e,{videoId:o=""}=e,{autoplay:s="false"}=e,{start:n=""}=e,{title:h=""}=e,{caption:p=""}=e,{awaitsConsent:w="false"}=e,{consentText:l=""}=e,{previewSrc:d=""}=e,{width:m="600"}=e,{height:E="450"}=e,C=u==="youtube"?`https://www.youtube-nocookie.com/embed/${o}?modestbranding=1`:"";u==="youtube"&&s==="true"&&(C+="&autoplay=1"),u==="youtube"&&n!==""&&(C+=`&start=${n}`);function B(i){i.stopPropagation(),i.preventDefault(),t(8,c=!1),t(9,r=!0)}function G(i){R[i?"unshift":"push"](()=>{v=i,t(10,v)})}return a.$$set=i=>{"type"in i&&t(0,u=i.type),"videoId"in i&&t(1,o=i.videoId),"autoplay"in i&&t(13,s=i.autoplay),"start"in i&&t(14,n=i.start),"title"in i&&t(2,h=i.title),"caption"in i&&t(3,p=i.caption),"awaitsConsent"in i&&t(15,w=i.awaitsConsent),"consentText"in i&&t(4,l=i.consentText),"previewSrc"in i&&t(5,d=i.previewSrc),"width"in i&&t(6,m=i.width),"height"in i&&t(7,E=i.height)},[u,o,h,p,l,d,m,E,c,r,v,C,B,s,n,w,G]}class ee extends M{constructor(e){super(),N(this,e,$,Z,U,{type:0,videoId:1,autoplay:13,start:14,title:2,caption:3,awaitsConsent:15,consentText:4,previewSrc:5,width:6,height:7},Y)}get type(){return this.$$.ctx[0]}set type(e){this.$$set({type:e}),g()}get videoId(){return this.$$.ctx[1]}set videoId(e){this.$$set({videoId:e}),g()}get autoplay(){return this.$$.ctx[13]}set autoplay(e){this.$$set({autoplay:e}),g()}get start(){return this.$$.ctx[14]}set start(e){this.$$set({start:e}),g()}get title(){return this.$$.ctx[2]}set title(e){this.$$set({title:e}),g()}get caption(){return this.$$.ctx[3]}set caption(e){this.$$set({caption:e}),g()}get awaitsConsent(){return this.$$.ctx[15]}set awaitsConsent(e){this.$$set({awaitsConsent:e}),g()}get consentText(){return this.$$.ctx[4]}set consentText(e){this.$$set({consentText:e}),g()}get previewSrc(){return this.$$.ctx[5]}set previewSrc(e){this.$$set({previewSrc:e}),g()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),g()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),g()}}customElements.define("khao-video",L(ee,{type:{},videoId:{},autoplay:{},start:{},title:{},caption:{},awaitsConsent:{},consentText:{},previewSrc:{},width:{},height:{}},[],[],!0));
